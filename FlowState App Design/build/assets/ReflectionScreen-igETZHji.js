import{c as L,u as Y,r as u,j as e,A as E,m as a,H as T,a1 as G,S as F,a3 as J,Q as A,T as V,V as B}from"./index-Dh3uFWtn.js";import{S as Q}from"./star-DQu15Mo_.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I=L("circle-check-big",q);function K({type:s,onComplete:i,affirmation:r,metadata:o}){const{themeColors:n}=Y(),[x,y]=u.useState(!0);return u.useEffect(()=>{const d=setTimeout(()=>{y(!1),i&&setTimeout(i,500)},3500);return()=>clearTimeout(d)},[i]),x?e.jsx(E,{children:e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 pointer-events-none flex items-center justify-center",children:[s==="reflection"&&e.jsx(U,{affirmation:r,themeColors:n}),s==="week"&&e.jsx(X,{themeColors:n}),s==="streak"&&e.jsx(Z,{metadata:o,themeColors:n}),s==="milestone"&&e.jsx(ee,{themeColors:n})]})}):null}function U({affirmation:s,themeColors:i}){return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx(a.div,{initial:{scale:0,opacity:0},animate:{scale:[0,2,2.5],opacity:[0,.3,0]},transition:{duration:2.5,ease:"easeOut"},className:"absolute rounded-full blur-3xl",style:{width:"600px",height:"600px",background:`radial-gradient(circle, ${i.primary}40, transparent)`}}),e.jsxs(a.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0},transition:{delay:.3,duration:.5,ease:"easeOut"},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md mx-4 pointer-events-auto",children:[e.jsx(a.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring",stiffness:200},className:"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:`${i.primary}20`},children:e.jsx(T,{size:32,style:{color:i.primary}})}),e.jsx(a.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"text-center mb-3",style:{color:i.primary},children:"Reflection Complete"}),e.jsx(a.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"text-center text-gray-600 leading-relaxed",children:s||"You took time to reflect. That's beautiful growth. ðŸŒ±"}),[...Array(6)].map((r,o)=>e.jsx(a.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,.6,0],scale:[0,1,0],x:[0,(Math.random()-.5)*100],y:[0,-50-Math.random()*50]},transition:{delay:1+o*.1,duration:2,ease:"easeOut"},className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:i.primary,left:"50%",top:"50%"}},o))]})]})}function X({themeColors:s}){return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx(a.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:[0,.4,0]},transition:{duration:3,ease:"easeOut"},className:"absolute w-96 h-96 rounded-full blur-2xl",style:{background:`radial-gradient(circle, ${s.primary}60, ${s.secondary}40, transparent)`}}),e.jsxs(a.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{duration:1,ease:"easeOut"},className:"relative pointer-events-auto",children:[[...Array(8)].map((i,r)=>{const o=r*360/8;return e.jsx(a.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3+r*.1,duration:.6,ease:"easeOut"},className:"absolute w-20 h-20 rounded-full",style:{background:`linear-gradient(135deg, ${s.primary}80, ${s.secondary}60)`,left:"50%",top:"50%",transform:`translate(-50%, -50%) rotate(${o}deg) translateY(-40px)`}},r)}),e.jsx(a.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1,type:"spring",stiffness:200},className:"relative z-10 w-32 h-32 rounded-full bg-white shadow-xl flex items-center justify-center",children:e.jsx(G,{size:48,style:{color:s.primary}})}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5},className:"absolute -bottom-24 left-1/2 -translate-x-1/2 whitespace-nowrap text-center",children:[e.jsx("h3",{style:{color:s.primary},children:"Week Complete! ðŸŒ¸"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"You've blossomed beautifully"})]})]})]})}function Z({metadata:s,themeColors:i}){const r=s?.streak||7;return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[[...Array(4)].map((o,n)=>e.jsx(a.div,{initial:{scale:0,opacity:.6},animate:{scale:[0,3,4],opacity:[.6,.3,0]},transition:{delay:n*.3,duration:2,ease:"easeOut"},className:"absolute rounded-full border-4",style:{width:"200px",height:"200px",borderColor:i.primary}},n)),e.jsxs(a.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:150},className:"relative z-10 bg-white rounded-full shadow-2xl p-8 pointer-events-auto",children:[e.jsx(I,{size:64,style:{color:i.primary}}),e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"absolute -bottom-20 left-1/2 -translate-x-1/2 whitespace-nowrap text-center",children:[e.jsxs("h3",{style:{color:i.primary},children:[r," Day Streak! ðŸ”¥"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Consistency is your superpower"})]})]}),[...Array(12)].map((o,n)=>e.jsx(a.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1.5,0],x:[0,(Math.random()-.5)*200],y:[0,-100-Math.random()*100]},transition:{delay:.5+n*.1,duration:2.5,ease:"easeOut"},className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:i.primary,left:"50%",top:"50%"}},n))]})}function ee({themeColors:s}){return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[[...Array(20)].map((i,r)=>{const o=r*360/20,n=150+Math.random()*100;return e.jsx(a.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,1,.8,0],scale:[0,1.5,1,0]},transition:{delay:r*.05,duration:2,ease:"easeOut"},className:"absolute",style:{left:"50%",top:"50%",transform:`translate(-50%, -50%) rotate(${o}deg) translateY(-${n}px)`},children:e.jsx(F,{size:24,style:{color:s.primary}})},r)}),e.jsxs(a.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring"},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-sm mx-4 pointer-events-auto text-center",children:[e.jsx(a.div,{animate:{rotate:[0,10,-10,0]},transition:{delay:.8,duration:.5},children:e.jsx(Q,{size:48,className:"mx-auto mb-4",style:{color:s.primary}})}),e.jsx("h3",{className:"mb-2",style:{color:s.primary},children:"Milestone Reached! âœ¨"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Every step forward matters. You're doing amazing."})]})]})}function se(){const{themeColors:s}=Y(),{triggerCelebration:i}=J(),r=new Date().toISOString().split("T")[0],[o,n]=u.useState([]),[x,y]=u.useState([]),[d,C]=u.useState(7),[w,f]=u.useState(!1),[b,O]=u.useState(!1),[W,z]=u.useState("");u.useEffect(()=>{const l=JSON.parse(localStorage.getItem("flowstate-reflections")||"{}")[r];l&&(n(l.whatFeltRight||[]),y(l.whatChallenged||[]),C(l.sleepHours||7),O(!!l.completedAt))},[r]);const H=["Rested when I needed","Completed a small task","Was gentle with myself","Asked for help","Honored my energy","Made progress","Connected with someone","Took a break"],M=["Low energy","Pain or discomfort","Overwhelming tasks","Couldn't focus","Too much stimulation","Felt rushed","Didn't rest enough","Hard to say no"],$=(t,l,h)=>{l.includes(t)?h(l.filter(p=>p!==t)):h([...l,t])},P=()=>{const t=JSON.parse(localStorage.getItem("flowstate-reflections")||"{}"),l=Object.entries(t).sort(([c],[m])=>m.localeCompare(c)).slice(0,7),h=[],p=[];let v=0;l.forEach(([c,m])=>{h.push(...m.whatChallenged||[]),p.push(...m.whatFeltRight||[]),v+=m.sleepHours||0});const R=l.length>0?(v/l.length).toFixed(1):"0",N={};h.forEach(c=>{N[c]=(N[c]||0)+1});const j=Object.entries(N).sort(([,c],[,m])=>m-c)[0],k={};p.forEach(c=>{k[c]=(k[c]||0)+1});const S=Object.entries(k).sort(([,c],[,m])=>m-c)[0];return{patterns:j?`You've noticed "${j[0]}" ${j[1]} times this week`:"Keep tracking to discover patterns",wins:S?`Your strength: "${S[0]}" shows up ${S[1]} times`:"Your wins are building up",avgSleep:R,suggestion:_(j?.[0],R)}},_=(t,l)=>parseFloat(l)<6?"Tomorrow: Prioritize rest over tasks. Your body needs recovery.":t?.toLowerCase().includes("energy")?"Tomorrow: Start with one tiny win. Energy builds on momentum.":t?.toLowerCase().includes("focus")?"Tomorrow: Try shorter task blocks. Quality over quantity.":t?.toLowerCase().includes("overwhelm")?"Tomorrow: Pick just ONE thing. Everything else can wait.":"Tomorrow: Trust your pace. You're doing better than you think.",D=()=>{const t=JSON.parse(localStorage.getItem("flowstate-reflections")||"{}");t[r]={date:r,whatFeltRight:o,whatChallenged:x,sleepHours:d,completedAt:new Date().toISOString()},localStorage.setItem("flowstate-reflections",JSON.stringify(t)),O(!0);const l=["You took time to reflect. That's beautiful growth. ðŸŒ±","Self-awareness is your superpower. Well done. âœ¨","Every reflection is a step forward. Proud of you. ðŸ’œ","You're building wisdom with each day. ðŸŒ¸","Pausing to reflect takes courage. You did it. ðŸŒ™"],h=l[Math.floor(Math.random()*l.length)];z(h);const p=Object.keys(t).length;p%7===0&&p>0?(f(!0),setTimeout(()=>{i("week-complete"),B.success("ðŸŒ¸ Week of reflections complete!",{description:"You've bloomed beautifully this week"})},500)):(f(!0),i("reflection-complete")),setTimeout(()=>f(!1),4e3)},g=P();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b relative",style:{backgroundImage:`linear-gradient(to bottom, ${s.gradientTo}, ${s.gradientFrom})`},children:[e.jsx("div",{className:"p-4 md:p-6 pt-8 md:pt-12 pb-32",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2",children:"End of Day Reflection"}),e.jsx("p",{className:"opacity-70",children:"Take a breath. Notice without judgment."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(T,{className:"w-5 h-5 text-lavender-400"}),e.jsx("h2",{children:"What felt right today?"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(t=>e.jsx(a.button,{onClick:()=>$(t,o,n),whileTap:{scale:.95},className:`
                    px-4 py-2 rounded-full transition-all duration-200
                    ${o.includes(t)?"bg-lavender-200 text-lavender-900 shadow-md":"bg-white text-gray-700 hover:bg-lavender-50 shadow-sm"}
                  `,children:t},t))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(A,{className:"w-5 h-5 text-peach-400"}),e.jsx("h2",{children:"What challenged you?"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(t=>e.jsx(a.button,{onClick:()=>$(t,x,y),whileTap:{scale:.95},className:`
                    px-4 py-2 rounded-full transition-all duration-200
                    ${x.includes(t)?"bg-peach-200 text-peach-900 shadow-md":"bg-white text-gray-700 hover:bg-peach-50 shadow-sm"}
                  `,children:t},t))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-4",children:"How much sleep did you get?"}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¤"}),e.jsx("input",{type:"range",min:"0",max:"12",step:"0.5",value:d,onChange:t=>C(parseFloat(t.target.value)),className:"flex-1 h-2 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${s.primary} 0%, ${s.primary} ${d/12*100}%, #e5e7eb ${d/12*100}%, #e5e7eb 100%)`}}),e.jsxs("div",{className:"min-w-[4rem] text-center opacity-90",children:[d,"h"]})]}),e.jsxs("div",{className:"mt-3 text-center text-sm opacity-60",children:[d<6&&"Rest is productive too âœ¨",d>=6&&d<8&&"Good baseline sleep",d>=8&&"Great rest! ðŸŒŸ"]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(F,{className:"w-5 h-5 text-lavender-400"}),e.jsx("h2",{children:"Your Patterns & Insights"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-lavender-50 to-white rounded-2xl p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{className:"w-5 h-5 text-lavender-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-60 text-sm mb-1",children:"Pattern"}),e.jsx("div",{children:g.patterns})]})]})}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-peach-50 to-white rounded-2xl p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(T,{className:"w-5 h-5 text-peach-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-60 text-sm mb-1",children:"Your Wins"}),e.jsx("div",{children:g.wins})]})]})}),e.jsx(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl p-5 shadow-sm border border-blue-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(A,{className:"w-5 h-5 text-blue-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-60 text-sm mb-1",children:"Gentle Focus for Tomorrow"}),e.jsx("div",{className:"text-blue-900",children:g.suggestion})]})]})}),e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-5 shadow-sm text-center",children:[e.jsx("div",{className:"text-sm opacity-60 mb-1",children:"7-Day Sleep Average"}),e.jsxs("div",{className:"text-2xl",children:[g.avgSleep," hours"]})]})]})]}),e.jsx(a.button,{onClick:D,whileTap:{scale:.98},disabled:b&&!w,className:"w-full py-4 rounded-3xl shadow-lg transition-all duration-200 flex items-center justify-center gap-2",style:{backgroundColor:b&&!w?"#d1d5db":s.primary,color:"white"},children:b?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-5 h-5"}),"Reflection Complete"]}):e.jsx(e.Fragment,{children:"Complete Reflection"})})]})}),e.jsx(E,{children:w&&e.jsx(K,{type:"reflection",affirmation:W,onComplete:()=>f(!1)})})]})}export{se as ReflectionScreen};
