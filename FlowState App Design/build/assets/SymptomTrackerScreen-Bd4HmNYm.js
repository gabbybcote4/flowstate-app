import{u as A,r as h,j as e,m,B as F,Z as M,a0 as S,H as z,M as H,al as L,A as P,S as B,o as R}from"./index-Dh3uFWtn.js";import{A as Y}from"./arrow-left-B6U7nkP4.js";import{C as $}from"./chevron-down-De6YQTgw.js";import{R as U,X as W}from"./generateCategoricalChart-DlIoLmpO.js";import{L as q,a as J}from"./LineChart-CL6kC7_M.js";import{I as K}from"./info-C-VIh4eG.js";const v=[{id:"migraine",name:"Migraine & Headaches",icon:F,color:"#9333ea",symptoms:[{id:"headache",name:"Headache",emoji:"🤕",severity:[1,2,3,4,5]},{id:"migraine",name:"Migraine",emoji:"⚡",severity:[1,2,3,4,5]},{id:"light-sensitivity",name:"Light Sensitivity",emoji:"☀️",severity:[1,2,3,4,5]},{id:"sound-sensitivity",name:"Sound Sensitivity",emoji:"🔊",severity:[1,2,3,4,5]},{id:"visual-aura",name:"Visual Aura",emoji:"👁️",severity:[1,2,3,4,5]},{id:"nausea",name:"Nausea",emoji:"🤢",severity:[1,2,3,4,5]},{id:"dizziness",name:"Dizziness",emoji:"😵",severity:[1,2,3,4,5]}]},{id:"energy",name:"Energy & Fatigue",icon:M,color:"#f97316",symptoms:[{id:"fatigue",name:"Physical Fatigue",emoji:"😴",severity:[1,2,3,4,5]},{id:"mental-fatigue",name:"Mental Fatigue",emoji:"🧠",severity:[1,2,3,4,5]},{id:"brain-fog",name:"Brain Fog",emoji:"🌫️",severity:[1,2,3,4,5]},{id:"low-motivation",name:"Low Motivation",emoji:"📉",severity:[1,2,3,4,5]},{id:"energy-crash",name:"Energy Crash",emoji:"⬇️",severity:[1,2,3,4,5]},{id:"restlessness",name:"Restlessness",emoji:"⚡",severity:[1,2,3,4,5]}]},{id:"adhd",name:"ADHD & Focus",icon:S,color:"#06b6d4",symptoms:[{id:"difficulty-focusing",name:"Difficulty Focusing",emoji:"🎯",severity:[1,2,3,4,5]},{id:"racing-thoughts",name:"Racing Thoughts",emoji:"💭",severity:[1,2,3,4,5]},{id:"impulsivity",name:"Impulsivity",emoji:"🌪️",severity:[1,2,3,4,5]},{id:"hyperactivity",name:"Hyperactivity",emoji:"🏃",severity:[1,2,3,4,5]},{id:"executive-dysfunction",name:"Executive Dysfunction",emoji:"🧩",severity:[1,2,3,4,5]},{id:"hyperfocus",name:"Hyperfocus",emoji:"🔍",severity:[1,2,3,4,5]},{id:"time-blindness",name:"Time Blindness",emoji:"⏰",severity:[1,2,3,4,5]}]},{id:"mental-health",name:"Mental Health",icon:z,color:"#ec4899",symptoms:[{id:"anxiety",name:"Anxiety",emoji:"😰",severity:[1,2,3,4,5]},{id:"stress",name:"Stress",emoji:"😤",severity:[1,2,3,4,5]},{id:"overwhelm",name:"Overwhelm",emoji:"😫",severity:[1,2,3,4,5]},{id:"low-mood",name:"Low Mood",emoji:"😔",severity:[1,2,3,4,5]},{id:"irritability",name:"Irritability",emoji:"😠",severity:[1,2,3,4,5]},{id:"emotional-dysregulation",name:"Emotional Dysregulation",emoji:"🎭",severity:[1,2,3,4,5]},{id:"panic",name:"Panic",emoji:"😱",severity:[1,2,3,4,5]}]},{id:"sleep",name:"Sleep & Rest",icon:H,color:"#8b5cf6",symptoms:[{id:"insomnia",name:"Insomnia",emoji:"😴",severity:[1,2,3,4,5]},{id:"poor-sleep-quality",name:"Poor Sleep Quality",emoji:"🌙",severity:[1,2,3,4,5]},{id:"nightmares",name:"Nightmares",emoji:"😨",severity:[1,2,3,4,5]},{id:"sleep-disruption",name:"Sleep Disruption",emoji:"🔔",severity:[1,2,3,4,5]},{id:"oversleeping",name:"Oversleeping",emoji:"💤",severity:[1,2,3,4,5]}]},{id:"physical",name:"Physical Symptoms",icon:S,color:"#10b981",symptoms:[{id:"muscle-tension",name:"Muscle Tension",emoji:"💪",severity:[1,2,3,4,5]},{id:"body-aches",name:"Body Aches",emoji:"🤕",severity:[1,2,3,4,5]},{id:"tremors",name:"Tremors",emoji:"🤲",severity:[1,2,3,4,5]},{id:"chest-tightness",name:"Chest Tightness",emoji:"🫁",severity:[1,2,3,4,5]},{id:"rapid-heartbeat",name:"Rapid Heartbeat",emoji:"💓",severity:[1,2,3,4,5]},{id:"shortness-of-breath",name:"Shortness of Breath",emoji:"😮‍💨",severity:[1,2,3,4,5]},{id:"digestive-issues",name:"Digestive Issues",emoji:"🤢",severity:[1,2,3,4,5]}]},{id:"sensory",name:"Sensory Sensitivities",icon:L,color:"#f59e0b",symptoms:[{id:"sensory-overload",name:"Sensory Overload",emoji:"🎆",severity:[1,2,3,4,5]},{id:"touch-sensitivity",name:"Touch Sensitivity",emoji:"🖐️",severity:[1,2,3,4,5]},{id:"smell-sensitivity",name:"Smell Sensitivity",emoji:"👃",severity:[1,2,3,4,5]},{id:"texture-issues",name:"Texture Issues",emoji:"🧶",severity:[1,2,3,4,5]},{id:"temperature-sensitivity",name:"Temperature Sensitivity",emoji:"🌡️",severity:[1,2,3,4,5]}]}];function ne({onNavigate:w}){const{themeColors:p}=A(),[o,u]=h.useState([]),[V,X]=h.useState(null),[Z,_]=h.useState(!1),[j,k]=h.useState(new Set),[x,C]=h.useState("track"),[G,Q]=h.useState(null);h.useEffect(()=>{const s=localStorage.getItem("flowstate-symptom-entries");s&&u(JSON.parse(s))},[]),h.useEffect(()=>{localStorage.setItem("flowstate-symptom-entries",JSON.stringify(o))},[o]);const D=(s,i,r,n)=>{const t={date:new Date().toISOString().split("T")[0],symptomId:i,categoryId:s,severity:r,notes:n,timestamp:Date.now()};u([...o,t])},E=s=>{const i=new Set(j);i.has(s)?i.delete(s):i.add(s),k(i)},I=s=>Array.from({length:7},(r,n)=>{const t=new Date;return t.setDate(t.getDate()-(6-n)),t.toISOString().split("T")[0]}).map(r=>{const n=o.filter(l=>l.symptomId===s&&l.date===r),t=n.length>0?n.reduce((l,g)=>l+g.severity,0)/n.length:0;return{date:new Date(r).toLocaleDateString("en-US",{weekday:"short"}),severity:Math.round(t*10)/10}}),T=()=>{const s=new Date().toISOString().split("T")[0],i=o.filter(n=>n.date===s),r={};return i.forEach(n=>{r[n.categoryId]||(r[n.categoryId]=[]),r[n.categoryId].push(n)}),r},O=()=>{const s=[],i=o.filter(a=>a.symptomId==="headache"||a.symptomId==="migraine"),r=o.filter(a=>a.symptomId==="stress"),n=o.filter(a=>a.symptomId==="poor-sleep-quality"||a.symptomId==="insomnia");if(i.length>=3){const a=i.filter(y=>y.severity>=4).map(y=>y.date);r.filter(y=>a.includes(y.date)&&y.severity>=4).length>=2&&s.push({type:"correlation",icon:"⚡",title:"Headache-Stress Pattern",message:"Severe headaches tend to occur on high-stress days",color:"#9333ea"})}const t=o.filter(a=>a.symptomId==="fatigue"||a.symptomId==="mental-fatigue");t.length>=5&&t.reduce((N,y)=>N+y.severity,0)/t.length>=3.5&&s.push({type:"trend",icon:"😴",title:"Persistent Fatigue",message:"Your energy levels have been consistently low this week",color:"#f97316"});const d=o.filter(a=>a.symptomId==="anxiety"||a.symptomId==="panic");d.length>=3&&s.push({type:"awareness",icon:"💙",title:"Anxiety Tracking",message:`You've logged anxiety ${d.length} times. Consider breathing exercises.`,color:"#ec4899"});const l=n.filter(a=>a.severity>=4).map(a=>a.date);return t.filter(a=>l.includes(a.date)&&a.severity>=4).length>=2&&s.push({type:"correlation",icon:"🌙",title:"Sleep-Energy Connection",message:"Poor sleep nights are followed by high fatigue days",color:"#8b5cf6"}),o.filter(a=>a.categoryId==="sensory"&&a.severity>=4).length>=3&&s.push({type:"awareness",icon:"🎆",title:"Sensory Sensitivity Alert",message:"You may benefit from reducing environmental stimuli",color:"#f59e0b"}),s},f=T(),b=O();return e.jsxs("div",{className:"min-h-screen pb-24",style:{backgroundColor:p.background},children:[e.jsx(m.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"sticky top-0 z-20 bg-white border-b border-gray-100 px-6 py-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>w?.("home"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Y,{size:20,className:"text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-gray-900",children:"Symptom Tracker"}),e.jsx("p",{className:"text-sm opacity-60",children:"Track patterns, find correlations"})]})]}),e.jsx("button",{onClick:()=>C(x==="track"?"insights":"track"),className:"px-4 py-2 rounded-2xl text-sm transition-all",style:{backgroundColor:x==="insights"?p.primary:"#f3f4f6",color:x==="insights"?"white":"#374151"},children:x==="insights"?"Insights":"Track"})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-6 py-6",children:x==="track"?e.jsxs(e.Fragment,{children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-lavender-50 to-purple-50 rounded-3xl p-6 mb-6 border border-lavender-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-gray-900 mb-1",children:"Today's Status"}),e.jsx("p",{className:"text-sm opacity-60",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl",children:o.filter(s=>s.date===new Date().toISOString().split("T")[0]).length}),e.jsx("div",{className:"text-xs opacity-60",children:"symptoms tracked"})]})]}),Object.keys(f).length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:Object.entries(f).map(([s,i])=>{const r=v.find(t=>t.id===s),n=i.reduce((t,d)=>t+d.severity,0)/i.length;return r?e.jsxs("div",{className:"bg-white rounded-2xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(r.icon,{size:16,style:{color:r.color}}),e.jsx("span",{className:"text-xs opacity-70",children:r.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-xl",children:[Math.round(n),"/5"]}),e.jsxs("div",{className:"text-xs opacity-50",children:[i.length," logged"]})]})]},s):null})})]}),e.jsx("div",{className:"space-y-4",children:v.map((s,i)=>{const r=j.has(s.id),n=s.icon;return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.05},className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("button",{onClick:()=>E(s.id),className:"w-full p-5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl flex items-center justify-center",style:{backgroundColor:`${s.color}15`},children:e.jsx(n,{size:20,style:{color:s.color}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-gray-900",children:s.name}),e.jsxs("p",{className:"text-xs opacity-50",children:[s.symptoms.length," symptoms"]})]})]}),e.jsx(m.div,{animate:{rotate:r?180:0},transition:{duration:.2},children:e.jsx($,{size:20,className:"text-gray-400"})})]}),e.jsx(P,{children:r&&e.jsx(m.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-100",children:e.jsx("div",{className:"p-5 space-y-4",children:s.symptoms.map(t=>{const d=I(t.id),l=o.find(c=>c.symptomId===t.id&&c.date===new Date().toISOString().split("T")[0]),g=d.some(c=>c.severity>0);return e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:t.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:t.name}),l&&e.jsxs("div",{className:"text-xs opacity-60 mt-1",children:["Today: ",l.severity,"/5"]})]})]})}),e.jsx("div",{className:"flex gap-2 mb-3",children:t.severity.map(c=>e.jsx(m.button,{onClick:()=>D(s.id,t.id,c),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1 py-2 rounded-xl text-sm transition-all",style:{backgroundColor:l?.severity===c?s.color:"white",color:l?.severity===c?"white":"#6b7280",border:`2px solid ${l?.severity===c?s.color:"#e5e7eb"}`},children:c},c))}),g&&e.jsx("div",{className:"h-20 mt-3",children:e.jsx(U,{width:"100%",height:"100%",children:e.jsxs(q,{data:d,children:[e.jsx(J,{type:"monotone",dataKey:"severity",stroke:s.color,strokeWidth:2,dot:{fill:s.color,r:3}}),e.jsx(W,{dataKey:"date",tick:{fontSize:10,fill:"#9ca3af"},axisLine:!1,tickLine:!1})]})})})]},t.id)})})})})]},s.id)})})]}):e.jsx(e.Fragment,{children:e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-4",children:[b.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(B,{size:24,style:{color:p.primary}}),"Your Patterns & Insights"]}),b.map((s,i)=>e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},className:"bg-white rounded-3xl p-5 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center text-2xl flex-shrink-0",style:{backgroundColor:`${s.color}15`},children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-gray-900 mb-1",children:s.title}),e.jsx("p",{className:"text-sm opacity-70",children:s.message})]})]})},i))]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📊"}),e.jsx("h3",{className:"text-gray-900 mb-2",children:"Not Enough Data Yet"}),e.jsx("p",{className:"text-sm opacity-60 max-w-sm mx-auto",children:"Track your symptoms for a few days to see patterns and correlations"})]}),o.length>0&&e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 mt-6",children:[e.jsxs("h3",{className:"text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(R,{size:20,style:{color:p.primary}}),"Weekly Summary"]}),e.jsx("div",{className:"space-y-4",children:v.map(s=>{const i=o.filter(t=>t.categoryId===s.id);if(i.length===0)return null;const r=i.reduce((t,d)=>t+d.severity,0)/i.length,n=s.icon;return e.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{size:16,style:{color:s.color}}),e.jsx("span",{className:"text-sm text-gray-900",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm opacity-60",children:[i.length," entries"]}),e.jsxs("span",{className:"text-sm",style:{color:s.color},children:["Avg: ",r.toFixed(1),"/5"]})]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:e.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${r/5*100}%`,backgroundColor:s.color}})})]},s.id)})})]}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-3xl p-5 border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(K,{size:20,className:"text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-gray-900 mb-2",children:"💡 Tracking Tips"}),e.jsxs("ul",{className:"text-sm opacity-70 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Track symptoms consistently for better insights"}),e.jsx("li",{children:"Note patterns between symptoms and activities"}),e.jsx("li",{children:"Share data with your healthcare provider"}),e.jsx("li",{children:"Use severity 1-5: 1=mild, 3=moderate, 5=severe"})]})]})]})})]})})})]})}export{ne as SymptomTrackerScreen};
