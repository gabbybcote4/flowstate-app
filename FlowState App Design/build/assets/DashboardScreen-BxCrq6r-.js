import{c as oe,j as e,r as y,m as X,S as Z,C as Te,T as Fe,D as ft,b as yt,d as xt,e as vt,f as bt,X as ss,I as jt,R as E,g as pe,h as as,u as le,i as L,B as xe,k as ns,A as wt,M as Ae,l as ve,n as Nt,Z as Ce,o as Se,p as tt,q as rs,H as be,s as St,t as is,v as kt,P as $e,w as Qe,x as Ge,y as os,z as ls,E as cs,F as At,G as ds,J as us,K as ms,L as ae,N as Le,O as hs,W as ps,Q as ie,U as gs,V as st,Y as Ct,_ as fs,$ as ys,a0 as xs,a1 as vs,a2 as bs,a3 as js}from"./index-CmR80Uol.js";import{T as Dt,C as ws}from"./CoachingNudgeCard-DCLucjt8.js";import{P as Ns}from"./plus-HqPj49ZR.js";import{f as G,p as je,i as de,D as Mt,L as re,A as Et,a as U,b as qe,c as Pt,G as Ot,g as De,l as Ss,d as Me,m as ke,e as he,C as ze,h as ks,j as As,u as Cs,k as at,n as Xe,B as Ve,X as Ee,Y as Pe,o as It,q as Ds,R as He,T as Be}from"./generateCategoricalChart-CD_shrrD.js";import{P as Ms,a as Rt,b as Tt,C as nt}from"./CartesianGrid-CKZXxHvS.js";import{S as Es}from"./star-BpWS_YD0.js";import{C as rt}from"./circle-alert-D3xT5W4v.js";import{c as Ft,u as Ps,R as Os,I as Is}from"./index-DONWJJg5.js";import{C as Rs,L as Ts,a as Fs}from"./LifeAreaFilterChips-ZO7N4dnw.js";import{A as $s}from"./arrow-right-2Jl6AtUy.js";import{S as _s}from"./send-DrpNCcBj.js";import"./checkbox-DipGAk0g.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zs=oe("circle",Ls);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],Bs=oe("cloud-snow",Hs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Ks=oe("flame",Ws);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Gs=oe("footprints",Ys);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=[["path",{d:"M5 12h14",key:"1ays0h"}]],Vs=oe("minus",qs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],Js=oe("sunrise",Us);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],Xs=oe("sunset",Qs);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],ea=oe("trending-down",Zs);function We({icon:n,label:t,value:s,color:a}){return e.jsx("div",{className:`flex-1 p-4 rounded-2xl shadow-sm ${a}`,children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"opacity-70",children:n}),e.jsx("div",{className:"opacity-60 text-sm",children:t}),e.jsx("div",{children:s})]})})}function ta({onViewDetails:n}){const[t,s]=y.useState({averageMood:0,averageSleep:0,todosCompleted:0,moodTrend:"same",sleepTrend:"same",todosTrend:"same",weekInsight:""});y.useEffect(()=>{a()},[]);const a=()=>{const l=new Date,c=new Date(l.getTime()-10080*60*1e3),d=new Date(l.getTime()-336*60*60*1e3),u=JSON.parse(localStorage.getItem("flowstate-coaching-data")||"{}"),h=JSON.parse(localStorage.getItem("flowstate-reflections")||"{}"),g=JSON.parse(localStorage.getItem("flowstate-habits")||"[]");let p=3,v=3;u&&u.mood!==void 0&&(p=u.mood,v=u.mood);const x=[],m=[];Object.entries(h).forEach(([T,S])=>{const C=new Date(T),w=S.sleepQuality||0,j=w>0?4+w*1:0;C>=c&&C<=l?x.push(j):C>=d&&C<c&&m.push(j)});const k=x.length>0?x.reduce((T,S)=>T+S,0)/x.length:0,M=m.length>0?m.reduce((T,S)=>T+S,0)/m.length:0;let f=0,b=0;g.forEach(T=>{T.completedSlots&&T.completedSlots.forEach(S=>{if(S.date){const C=new Date(S.date);C>=c&&C<=l?f++:C>=d&&C<c&&b++}})});const P=p>v?"up":p<v?"down":"same",O=k>M?"up":k<M?"down":"same",R=f>b?"up":f<b?"down":"same",F=r(p,k,f,P,O);s({averageMood:p,averageSleep:k,todosCompleted:f,moodTrend:P,sleepTrend:O,todosTrend:R,weekInsight:F})},r=(l,c,d,u,h)=>{const g=[];return u==="up"&&g.push("Your energy is rising â€” something's working! ðŸŒ¸"),c>=7&&g.push("You're sleeping well. Your body thanks you. ðŸ’¤"),d>10&&g.push(`${d} habits this week â€” you're showing up! âœ¨`),c<6&&c>0&&g.push("Rest has been light. Be extra gentle with yourself. ðŸ’œ"),l<2.5&&g.push("This week was heavy. You're still here. That counts. ðŸ’™"),h==="up"&&u==="up"&&g.push("Better sleep, better mood â€” the connection is real. ðŸŒ™"),g.length===0&&g.push("You showed up this week. That's what matters. ðŸ’œ"),g[Math.floor(Math.random()*g.length)]},o=l=>l<2?"Low":l<3?"Fair":l<4?"Good":"Great",i=({trend:l})=>l==="up"?e.jsx(Fe,{size:12,className:"text-green-500"}):l==="down"?e.jsx(ea,{size:12,className:"text-orange-400"}):e.jsx(Vs,{size:12,className:"text-gray-400"});return e.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-gray-700 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“Š"}),e.jsx("span",{children:"This Week"})]}),e.jsx("div",{className:"text-xs opacity-50",children:"Last 7 days"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-2xl",children:[e.jsx("div",{className:"text-2xl mb-1.5",children:"ðŸŒ¤ï¸"}),e.jsx("div",{className:"text-xs opacity-60 mb-1.5",children:"Mood"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-sm",children:o(t.averageMood)}),e.jsx(i,{trend:t.moodTrend})]})]}),e.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-2xl",children:[e.jsx("div",{className:"text-2xl mb-1.5",children:"ðŸ’¤"}),e.jsx("div",{className:"text-xs opacity-60 mb-1.5",children:"Sleep"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-sm",children:t.averageSleep>0?`${t.averageSleep.toFixed(1)}h`:"â€”"}),e.jsx(i,{trend:t.sleepTrend})]})]}),e.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-2xl",children:[e.jsx("div",{className:"text-2xl mb-1.5",children:"âœ…"}),e.jsx("div",{className:"text-xs opacity-60 mb-1.5",children:"Habits"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-sm",children:t.todosCompleted}),e.jsx(i,{trend:t.todosTrend})]})]})]}),t.weekInsight&&e.jsx("div",{className:"p-3 bg-gradient-to-br from-lavender-50 to-purple-50 rounded-2xl mb-3 border border-lavender-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Z,{size:14,className:"text-lavender-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.weekInsight})]})}),n&&e.jsxs("button",{onClick:n,className:"w-full py-2 px-4 bg-gray-50 hover:bg-gray-100 rounded-2xl text-sm flex items-center justify-center gap-2 transition-colors",children:["View Full Insights",e.jsx(Te,{size:14})]})]})}function sa({icon:n,title:t,progress:s,currentHabits:a,suggestion:r,color:o,onClick:i}){return e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:i,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:n}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-800",children:t}),e.jsxs("div",{className:"text-xs opacity-60 mt-0.5",children:[s,"% this week"]})]})]}),e.jsx(Te,{size:20,className:"opacity-30"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"h-2 w-full rounded-full overflow-hidden",style:{backgroundColor:`${o}20`},children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${s}%`,backgroundColor:o}})})}),a.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs opacity-50 mb-2",children:"Active habits:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((l,c)=>e.jsx("div",{className:"text-xs px-3 py-1.5 rounded-full border",style:{borderColor:`${o}40`,color:o},children:l},c))})]}),e.jsx("div",{className:"text-sm p-3 rounded-2xl mt-3",style:{backgroundColor:`${o}15`},children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"opacity-60",children:"ðŸ’¡"}),e.jsx("span",{className:"flex-1 opacity-80",children:r})]})})]})}function aa({isOpen:n,onClose:t,lifeArea:s}){const[a,r]=y.useState([]),[o,i]=y.useState(""),[l,c]=y.useState(!1);y.useEffect(()=>{if(n){const m=JSON.parse(localStorage.getItem("flowstate-life-area-todos")||"[]").filter(k=>k.lifeAreaId===s.id);r(m)}},[n,s.id]),y.useEffect(()=>{const k=[...JSON.parse(localStorage.getItem("flowstate-life-area-todos")||"[]").filter(M=>M.lifeAreaId!==s.id),...a];localStorage.setItem("flowstate-life-area-todos",JSON.stringify(k))},[a,s.id]);const d=x=>{r(a.map(m=>{if(m.id===x){const k=!m.completed;return{...m,completed:k,completedAt:k?new Date().toISOString():void 0}}return m}))},u=()=>{if(o.trim()){const x={id:Date.now(),title:o,completed:!1,lifeAreaId:s.id};r([...a,x]),i(""),c(!1)}},h=x=>{r(a.filter(m=>m.id!==x))},g=a.filter(x=>x.completed).length,p=a.length,v=p>0?Math.round(g/p*100):0;return e.jsx(ft,{open:n,onOpenChange:t,children:e.jsxs(yt,{className:"max-w-lg",children:[e.jsxs(xt,{children:[e.jsxs(vt,{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:s.icon}),e.jsx("span",{children:s.title})]}),e.jsx(bt,{children:"Manage your goals and habits for this life area"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm opacity-60",children:"Progress this week"}),e.jsxs("div",{className:"text-sm",children:[v,"%"]})]}),e.jsx("div",{className:"h-2 w-full rounded-full overflow-hidden",style:{backgroundColor:`${s.color}20`},children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${v}%`,backgroundColor:s.color}})}),e.jsxs("div",{className:"text-xs opacity-50 mt-2",children:[g," of ",p," completed"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"mb-3 text-sm opacity-70",children:"Tasks & Habits"}),e.jsx("div",{className:"flex flex-col gap-2 max-h-64 overflow-y-auto",children:a.length===0?e.jsx("div",{className:"text-center py-8 opacity-50 text-sm",children:"No tasks yet. Add one to get started!"}):a.map(x=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Dt,{title:x.title,completed:x.completed,onToggle:()=>d(x.id)})}),e.jsx("button",{onClick:()=>h(x.id),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ss,{size:16,className:"opacity-40"})})]},x.id))})]}),l?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(jt,{value:o,onChange:x=>i(x.target.value),placeholder:"New task or habit...",onKeyDown:x=>{x.key==="Enter"&&u(),x.key==="Escape"&&(c(!1),i(""))},autoFocus:!0,className:"flex-1"}),e.jsx("button",{onClick:u,className:"px-4 py-2 rounded-2xl text-white",style:{backgroundColor:s.color},children:"Add"})]}):e.jsxs("button",{onClick:()=>c(!0),className:"w-full py-3 rounded-2xl border-2 border-dashed border-gray-300 hover:border-gray-400 transition-colors flex items-center justify-center gap-2 opacity-60 hover:opacity-100",children:[e.jsx(Ns,{size:18}),e.jsx("span",{children:"Add new task"})]})]})]})})}const na=[{id:"self-care",label:"Self-Care",icon:"ðŸŒ¸",color:"#C9A3DC"},{id:"work",label:"Work",icon:"ðŸ’¼",color:"#A3C9DC"},{id:"relationships",label:"Relationships",icon:"ðŸ’•",color:"#DCADC9"},{id:"growth",label:"Growth",icon:"ðŸŒ±",color:"#A3DCC9"},{id:"health",label:"Health",icon:"â¤ï¸",color:"#DCBBA3"},{id:"environment",label:"Environment",icon:"ðŸ¡",color:"#C9DCA3"},{id:"creativity",label:"Creativity",icon:"ðŸŽ¨",color:"#DCA3BB"},{id:"finances",label:"Finances",icon:"ðŸ’°",color:"#A3BBDC"}];function ra({selectedArea:n,onSelect:t}){return e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-5 border border-gray-100",children:[e.jsx("h3",{className:"mb-4 text-gray-700",children:"Today's Focus Area"}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:na.map(s=>e.jsxs("button",{onClick:()=>t(s.id),className:`flex flex-col items-center gap-2 p-3 rounded-2xl transition-all duration-200 ${n===s.id?"shadow-md scale-105":"hover:scale-105 opacity-70"}`,style:{backgroundColor:n===s.id?`${s.color}30`:"#f9fafb",borderWidth:n===s.id?"2px":"1px",borderColor:n===s.id?s.color:"#e5e7eb"},children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsx("span",{className:"text-xs text-center",children:s.label})]},s.id))})]})}const it=["You're doing your best, and that's more than enough ðŸŒŸ","Small steps today, beautiful progress tomorrow ðŸŒ±","Rest is productive too. Honor what you need ðŸ’œ","Your energy matters more than your output today âœ¨","Be gentle with yourself - you're growing ðŸŒ¸","Progress isn't linear, and that's perfectly okay ðŸ¦‹","You showed up today. That's brave ðŸ’ª","Listen to your body - it knows what it needs ðŸŒ™","Every tiny choice you make counts ðŸŒŸ","You're allowed to do things at your own pace ðŸ¢"];function ia(){const[n,t]=y.useState("");return y.useEffect(()=>{const a=Math.floor((new Date().getTime()-new Date(new Date().getFullYear(),0,0).getTime())/864e5)%it.length;t(it[a])},[]),e.jsx("div",{className:"bg-gradient-to-br from-lavender-100 to-peach-100 rounded-3xl shadow-sm p-6 border border-lavender-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Z,{size:24,className:"text-lavender-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lavender-700 mb-2",children:"A gentle reminder"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:n})]})]})})}var oa=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function we(n){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(n)}function la(n,t){if(n==null)return{};var s=ca(n,t),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(s[a]=n[a])}return s}function ca(n,t){if(n==null)return{};var s={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;s[a]=n[a]}return s}function ee(){return ee=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},ee.apply(this,arguments)}function ot(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),s.push.apply(s,a)}return s}function Ne(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ot(Object(s),!0).forEach(function(a){da(n,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):ot(Object(s)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(s,a))})}return n}function da(n,t,s){return t=ua(t),t in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function ua(n){var t=ma(n,"string");return we(t)=="symbol"?t:t+""}function ma(n,t){if(we(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,t);if(we(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var ha=function(t,s,a,r){var o="";return r.forEach(function(i,l){var c=je(s,a,t,i);l?o+="L ".concat(c.x,",").concat(c.y):o+="M ".concat(c.x,",").concat(c.y)}),o+="Z",o},pa=function(t){var s=t.cx,a=t.cy,r=t.innerRadius,o=t.outerRadius,i=t.polarAngles,l=t.radialLines;if(!i||!i.length||!l)return null;var c=Ne({stroke:"#ccc"},G(t,!1));return E.createElement("g",{className:"recharts-polar-grid-angle"},i.map(function(d){var u=je(s,a,r,d),h=je(s,a,o,d);return E.createElement("line",ee({},c,{key:"line-".concat(d),x1:u.x,y1:u.y,x2:h.x,y2:h.y}))}))},ga=function(t){var s=t.cx,a=t.cy,r=t.radius,o=t.index,i=Ne(Ne({stroke:"#ccc"},G(t,!1)),{},{fill:"none"});return E.createElement("circle",ee({},i,{className:pe("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(o),cx:s,cy:a,r}))},fa=function(t){var s=t.radius,a=t.index,r=Ne(Ne({stroke:"#ccc"},G(t,!1)),{},{fill:"none"});return E.createElement("path",ee({},r,{className:pe("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(a),d:ha(s,t.cx,t.cy,t.polarAngles)}))},ya=function(t){var s=t.polarRadius,a=t.gridType;return!s||!s.length?null:E.createElement("g",{className:"recharts-polar-grid-concentric"},s.map(function(r,o){var i=o;return a==="circle"?E.createElement(ga,ee({key:i},t,{radius:r,index:o})):E.createElement(fa,ee({key:i},t,{radius:r,index:o}))}))},$t=function(t){var s=t.cx,a=s===void 0?0:s,r=t.cy,o=r===void 0?0:r,i=t.innerRadius,l=i===void 0?0:i,c=t.outerRadius,d=c===void 0?0:c,u=t.gridType,h=u===void 0?"polygon":u,g=t.radialLines,p=g===void 0?!0:g,v=la(t,oa);return d<=0?null:E.createElement("g",{className:"recharts-polar-grid"},E.createElement(pa,ee({cx:a,cy:o,innerRadius:l,outerRadius:d,gridType:h,radialLines:p},v)),E.createElement(ya,ee({cx:a,cy:o,innerRadius:l,outerRadius:d,gridType:h,radialLines:p},v)))};$t.displayName="PolarGrid";var Ke,lt;function xa(){if(lt)return Ke;lt=1;function n(t){return t&&t.length?t[0]:void 0}return Ke=n,Ke}var Ye,ct;function va(){return ct||(ct=1,Ye=xa()),Ye}var ba=va();const ja=as(ba);var wa=["key"];function ge(n){"@babel/helpers - typeof";return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ge(n)}function Na(n,t){if(n==null)return{};var s=Sa(n,t),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(s[a]=n[a])}return s}function Sa(n,t){if(n==null)return{};var s={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;s[a]=n[a]}return s}function Oe(){return Oe=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},Oe.apply(this,arguments)}function dt(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),s.push.apply(s,a)}return s}function B(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?dt(Object(s),!0).forEach(function(a){Q(n,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):dt(Object(s)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(s,a))})}return n}function ka(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(n,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,Lt(a.key),a)}}function Aa(n,t,s){return t&&ut(n.prototype,t),s&&ut(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ca(n,t,s){return t=Ie(t),Da(n,_t()?Reflect.construct(t,s||[],Ie(n).constructor):t.apply(n,s))}function Da(n,t){if(t&&(ge(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ma(n)}function Ma(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_t=function(){return!!n})()}function Ie(n){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Ie(n)}function Ea(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Ue(n,t)}function Ue(n,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},Ue(n,t)}function Q(n,t,s){return t=Lt(t),t in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Lt(n){var t=Pa(n,"string");return ge(t)=="symbol"?t:t+""}function Pa(n,t){if(ge(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,t);if(ge(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var fe=(function(n){function t(){var s;ka(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return s=Ca(this,t,[].concat(r)),Q(s,"state",{isAnimationFinished:!1}),Q(s,"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),de(i)&&i()}),Q(s,"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),de(i)&&i()}),Q(s,"handleMouseEnter",function(i){var l=s.props.onMouseEnter;l&&l(s.props,i)}),Q(s,"handleMouseLeave",function(i){var l=s.props.onMouseLeave;l&&l(s.props,i)}),s}return Ea(t,n),Aa(t,[{key:"renderDots",value:function(a){var r=this.props,o=r.dot,i=r.dataKey,l=G(this.props,!1),c=G(o,!0),d=a.map(function(u,h){var g=B(B(B({key:"dot-".concat(h),r:3},l),c),{},{dataKey:i,cx:u.x,cy:u.y,index:h,payload:u});return t.renderDotItem(o,g)});return E.createElement(re,{className:"recharts-radar-dots"},d)}},{key:"renderPolygonStatically",value:function(a){var r=this.props,o=r.shape,i=r.dot,l=r.isRange,c=r.baseLinePoints,d=r.connectNulls,u;return E.isValidElement(o)?u=E.cloneElement(o,B(B({},this.props),{},{points:a})):de(o)?u=o(B(B({},this.props),{},{points:a})):u=E.createElement(Ms,Oe({},G(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:a,baseLinePoints:l?c:null,connectNulls:d})),E.createElement(re,{className:"recharts-radar-polygon"},u,i?this.renderDots(a):null)}},{key:"renderPolygonWithAnimation",value:function(){var a=this,r=this.props,o=r.points,i=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,d=r.animationEasing,u=r.animationId,h=this.state.prevPoints;return E.createElement(Et,{begin:l,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},key:"radar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var p=g.t,v=h&&h.length/o.length,x=o.map(function(m,k){var M=h&&h[Math.floor(k*v)];if(M){var f=U(M.x,m.x),b=U(M.y,m.y);return B(B({},m),{},{x:f(p),y:b(p)})}var P=U(m.cx,m.x),O=U(m.cy,m.y);return B(B({},m),{},{x:P(p),y:O(p)})});return a.renderPolygonStatically(x)})}},{key:"renderPolygon",value:function(){var a=this.props,r=a.points,o=a.isAnimationActive,i=a.isRange,l=this.state.prevPoints;return o&&r&&r.length&&!i&&(!l||!qe(l,r))?this.renderPolygonWithAnimation():this.renderPolygonStatically(r)}},{key:"render",value:function(){var a=this.props,r=a.hide,o=a.className,i=a.points,l=a.isAnimationActive;if(r||!i||!i.length)return null;var c=this.state.isAnimationFinished,d=pe("recharts-radar",o);return E.createElement(re,{className:d},this.renderPolygon(),(!l||c)&&Pt.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,r){return a.animationId!==r.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:r.curPoints}:a.points!==r.curPoints?{curPoints:a.points}:null}},{key:"renderDotItem",value:function(a,r){var o;if(E.isValidElement(a))o=E.cloneElement(a,r);else if(de(a))o=a(r);else{var i=r.key,l=Na(r,wa);o=E.createElement(Mt,Oe({},l,{key:i,className:pe("recharts-radar-dot",typeof a!="boolean"?a.className:"")}))}return o}}])})(y.PureComponent);Q(fe,"displayName","Radar");Q(fe,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ot.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Q(fe,"getComposedData",function(n){var t=n.radiusAxis,s=n.angleAxis,a=n.displayedData,r=n.dataKey,o=n.bandSize,i=s.cx,l=s.cy,c=!1,d=[],u=s.type!=="number"?o??0:0;a.forEach(function(g,p){var v=De(g,s.dataKey,p),x=De(g,r),m=s.scale(v)+u,k=Array.isArray(x)?Ss(x):x,M=Me(k)?void 0:t.scale(k);Array.isArray(x)&&x.length>=2&&(c=!0),d.push(B(B({},je(i,l,M,m)),{},{name:v,value:x,cx:i,cy:l,radius:M,angle:m,payload:g}))});var h=[];return c&&d.forEach(function(g){if(Array.isArray(g.value)){var p=ja(g.value),v=Me(p)?void 0:t.scale(p);h.push(B(B({},g),{},{radius:v},je(i,l,v,g.angle)))}else h.push(g)}),{points:d,isRange:c,baseLinePoints:h}});var Oa=["layout","type","stroke","connectNulls","isRange","ref"],Ia=["key"],zt;function ye(n){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(n)}function Ht(n,t){if(n==null)return{};var s=Ra(n,t),a,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)a=o[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(s[a]=n[a])}return s}function Ra(n,t){if(n==null)return{};var s={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(t.indexOf(a)>=0)continue;s[a]=n[a]}return s}function ue(){return ue=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])}return n},ue.apply(this,arguments)}function mt(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),s.push.apply(s,a)}return s}function ne(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?mt(Object(s),!0).forEach(function(a){J(n,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):mt(Object(s)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(s,a))})}return n}function Ta(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(n,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,Wt(a.key),a)}}function Fa(n,t,s){return t&&ht(n.prototype,t),s&&ht(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function $a(n,t,s){return t=Re(t),_a(n,Bt()?Reflect.construct(t,s||[],Re(n).constructor):t.apply(n,s))}function _a(n,t){if(t&&(ye(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return La(n)}function La(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Bt(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bt=function(){return!!n})()}function Re(n){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Re(n)}function za(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Je(n,t)}function Je(n,t){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},Je(n,t)}function J(n,t,s){return t=Wt(t),t in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function Wt(n){var t=Ha(n,"string");return ye(t)=="symbol"?t:t+""}function Ha(n,t){if(ye(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var a=s.call(n,t);if(ye(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var te=(function(n){function t(){var s;Ta(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return s=$a(this,t,[].concat(r)),J(s,"state",{isAnimationFinished:!0}),J(s,"id",Cs("recharts-area-")),J(s,"handleAnimationEnd",function(){var i=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),de(i)&&i()}),J(s,"handleAnimationStart",function(){var i=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),de(i)&&i()}),s}return za(t,n),Fa(t,[{key:"renderDots",value:function(a,r,o){var i=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(i&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,g=G(this.props,!1),p=G(d,!0),v=u.map(function(m,k){var M=ne(ne(ne({key:"dot-".concat(k),r:3},g),p),{},{index:k,cx:m.x,cy:m.y,dataKey:h,value:m.value,payload:m.payload,points:u});return t.renderDotItem(d,M)}),x={clipPath:a?"url(#clipPath-".concat(r?"":"dots-").concat(o,")"):null};return E.createElement(re,ue({className:"recharts-area-dots"},x),v)}},{key:"renderHorizontalRect",value:function(a){var r=this.props,o=r.baseLine,i=r.points,l=r.strokeWidth,c=i[0].x,d=i[i.length-1].x,u=a*Math.abs(c-d),h=ke(i.map(function(g){return g.y||0}));return he(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(ke(o.map(function(g){return g.y||0})),h)),he(h)?E.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var r=this.props,o=r.baseLine,i=r.points,l=r.strokeWidth,c=i[0].y,d=i[i.length-1].y,u=a*Math.abs(c-d),h=ke(i.map(function(g){return g.x||0}));return he(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(ke(o.map(function(g){return g.x||0})),h)),he(h)?E.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(a){var r=this.props.layout;return r==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,r,o,i){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,g=l.isRange;l.ref;var p=Ht(l,Oa);return E.createElement(re,{clipPath:o?"url(#clipPath-".concat(i,")"):null},E.createElement(ze,ue({},G(p,!0),{points:a,connectNulls:h,type:d,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&E.createElement(ze,ue({},G(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})),u!=="none"&&g&&E.createElement(ze,ue({},G(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:r})))}},{key:"renderAreaWithAnimation",value:function(a,r){var o=this,i=this.props,l=i.points,c=i.baseLine,d=i.isAnimationActive,u=i.animationBegin,h=i.animationDuration,g=i.animationEasing,p=i.animationId,v=this.state,x=v.prevPoints,m=v.prevBaseLine;return E.createElement(Et,{begin:u,duration:h,isActive:d,easing:g,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var M=k.t;if(x){var f=x.length/l.length,b=l.map(function(F,T){var S=Math.floor(T*f);if(x[S]){var C=x[S],w=U(C.x,F.x),j=U(C.y,F.y);return ne(ne({},F),{},{x:w(M),y:j(M)})}return F}),P;if(he(c)&&typeof c=="number"){var O=U(m,c);P=O(M)}else if(Me(c)||ks(c)){var R=U(m,0);P=R(M)}else P=c.map(function(F,T){var S=Math.floor(T*f);if(m[S]){var C=m[S],w=U(C.x,F.x),j=U(C.y,F.y);return ne(ne({},F),{},{x:w(M),y:j(M)})}return F});return o.renderAreaStatically(b,P,a,r)}return E.createElement(re,null,E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(r)},o.renderClipRect(M))),E.createElement(re,{clipPath:"url(#animationClipPath-".concat(r,")")},o.renderAreaStatically(l,c,a,r)))})}},{key:"renderArea",value:function(a,r){var o=this.props,i=o.points,l=o.baseLine,c=o.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,g=d.totalLength;return c&&i&&i.length&&(!u&&g>0||!qe(u,i)||!qe(h,l))?this.renderAreaWithAnimation(a,r):this.renderAreaStatically(i,l,a,r)}},{key:"render",value:function(){var a,r=this.props,o=r.hide,i=r.dot,l=r.points,c=r.className,d=r.top,u=r.left,h=r.xAxis,g=r.yAxis,p=r.width,v=r.height,x=r.isAnimationActive,m=r.id;if(o||!l||!l.length)return null;var k=this.state.isAnimationFinished,M=l.length===1,f=pe("recharts-area",c),b=h&&h.allowDataOverflow,P=g&&g.allowDataOverflow,O=b||P,R=Me(m)?this.id:m,F=(a=G(i,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},T=F.r,S=T===void 0?3:T,C=F.strokeWidth,w=C===void 0?2:C,j=As(i)?i:{},I=j.clipDot,D=I===void 0?!0:I,A=S*2+w;return E.createElement(re,{className:f},b||P?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(R)},E.createElement("rect",{x:b?u:u-p/2,y:P?d:d-v/2,width:b?p:p*2,height:P?v:v*2})),!D&&E.createElement("clipPath",{id:"clipPath-dots-".concat(R)},E.createElement("rect",{x:u-A/2,y:d-A/2,width:p+A,height:v+A}))):null,M?null:this.renderArea(O,R),(i||M)&&this.renderDots(O,D,R),(!x||k)&&Pt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,r){return a.animationId!==r.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:r.curPoints,prevBaseLine:r.curBaseLine}:a.points!==r.curPoints||a.baseLine!==r.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])})(y.PureComponent);zt=te;J(te,"displayName","Area");J(te,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ot.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});J(te,"getBaseValue",function(n,t,s,a){var r=n.layout,o=n.baseValue,i=t.props.baseValue,l=i??o;if(he(l)&&typeof l=="number")return l;var c=r==="horizontal"?a:s,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});J(te,"getComposedData",function(n){var t=n.props,s=n.item,a=n.xAxis,r=n.yAxis,o=n.xAxisTicks,i=n.yAxisTicks,l=n.bandSize,c=n.dataKey,d=n.stackedData,u=n.dataStartIndex,h=n.displayedData,g=n.offset,p=t.layout,v=d&&d.length,x=zt.getBaseValue(t,s,a,r),m=p==="horizontal",k=!1,M=h.map(function(b,P){var O;v?O=d[u+P]:(O=De(b,c),Array.isArray(O)?k=!0:O=[x,O]);var R=O[1]==null||v&&De(b,c)==null;return m?{x:at({axis:a,ticks:o,bandSize:l,entry:b,index:P}),y:R?null:r.scale(O[1]),value:O,payload:b}:{x:R?null:a.scale(O[1]),y:at({axis:r,ticks:i,bandSize:l,entry:b,index:P}),value:O,payload:b}}),f;return v||k?f=M.map(function(b){var P=Array.isArray(b.value)?b.value[0]:null;return m?{x:b.x,y:P!=null&&b.y!=null?r.scale(P):null}:{x:P!=null?a.scale(P):null,y:b.y}}):f=m?r.scale(x):a.scale(x),ne({points:M,baseLine:f,layout:p,isRange:k},g)});J(te,"renderDotItem",function(n,t){var s;if(E.isValidElement(n))s=E.cloneElement(n,t);else if(de(n))s=n(t);else{var a=pe("recharts-area-dot",typeof n!="boolean"?n.className:""),r=t.key,o=Ht(t,Ia);s=E.createElement(Mt,ue({},o,{key:r,className:a}))}return s});var Ba=Xe({chartName:"BarChart",GraphicalChild:Ve,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ee},{axisType:"yAxis",AxisComp:Pe}],formatAxisMap:It}),Wa=Xe({chartName:"RadarChart",GraphicalChild:fe,axisComponents:[{axisType:"angleAxis",AxisComp:Rt},{axisType:"radiusAxis",AxisComp:Tt}],formatAxisMap:Ds,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Ka=Xe({chartName:"AreaChart",GraphicalChild:te,axisComponents:[{axisType:"xAxis",AxisComp:Ee},{axisType:"yAxis",AxisComp:Pe}],formatAxisMap:It});function Ya(){const{themeColors:n}=le(),[t,s]=y.useState([]),[a,r]=y.useState(null),[o,i]=y.useState(null),[l,c]=y.useState(!1),[d,u]=y.useState(!1);y.useEffect(()=>{h()},[]);const h=()=>{u(!0),setTimeout(()=>{try{let m=JSON.parse(localStorage.getItem("flowstate-coaching-data")||"[]"),k=JSON.parse(localStorage.getItem("flowstate-habits")||"[]");const M=JSON.parse(localStorage.getItem("flowstate-reflections")||"{}");Array.isArray(m)||(m=[]),Array.isArray(k)||(k=[]);const f=g(m,k,M);s(f);const b=p(m,k,M);r(b)}catch(m){console.error("Error analyzing data:",m),s([]),r(null)}u(!1)},300)},g=(m,k,M)=>{const f=[];if(!Array.isArray(m)||!Array.isArray(k))return f;const b=m.slice(-14);if(b.length>=7){const S={};b.forEach(j=>{if(j?.timestamp){const D=new Date(j.timestamp).toLocaleDateString("en-US",{weekday:"long"});S[D]||(S[D]={energy:0,mood:0,count:0}),S[D].energy+=j.energy||0,S[D].mood+=v(j.mood),S[D].count+=1}});let C="",w=0;Object.entries(S).forEach(([j,I])=>{if(I.count>0){const D=I.energy/I.count,A=I.mood/I.count,q=(D+A)/2;q>w&&(w=q,C=j)}}),C&&w>6&&f.push({id:"best-day",type:"pattern",title:`${C}s are your power days`,description:`You tend to have ${w>8?"excellent":"higher"} energy and mood on ${C}s. Consider scheduling important tasks then.`,confidence:Math.min(95,60+w*3),icon:"star",color:"#f59e0b"})}const P=[];if(b.forEach(S=>{if(S?.sleep&&S?.timestamp){const C=new Date(S.timestamp).toDateString(),w=k.filter(j=>(j?.completedSlots||[]).some(I=>I?.date===C)).length;P.push({sleep:S.sleep,completed:w})}}),P.length>=5){const S=P.reduce((w,j)=>w+j.sleep,0)/P.length,C=P.sort((w,j)=>j.completed-w.completed).slice(0,3).reduce((w,j)=>w+j.sleep,0)/3;C>=7&&C<=9&&f.push({id:"sleep-correlation",type:"correlation",title:`${Math.round(C)}h of sleep = peak performance`,description:`You complete ${Math.round(C/S*100-100)}% more habits when you get around ${Math.round(C)} hours of sleep.`,confidence:85,icon:"moon",color:"#8b5cf6"})}const O=k.filter(S=>S?.isActive);let R=0,F=new Date;for(;R<30;){const S=F.toDateString();if(!O.some(w=>(w?.completedSlots||[]).some(j=>j?.date===S)))break;R++,F.setDate(F.getDate()-1)}if(R>=3&&f.push({id:"streak",type:"achievement",title:`${R}-day momentum building!`,description:`You've maintained at least one habit for ${R} consecutive days. This consistency is creating lasting change.`,confidence:100,icon:"check",color:"#10b981"}),b.length>=7){const S=b.filter(D=>{if(!D?.timestamp)return!1;const A=new Date(D.timestamp).getHours();return A>=6&&A<12}).reduce((D,A)=>D+(A.energy||0),0)/Math.max(1,b.filter(D=>{if(!D?.timestamp)return!1;const A=new Date(D.timestamp).getHours();return A>=6&&A<12}).length),C=b.filter(D=>{if(!D?.timestamp)return!1;const A=new Date(D.timestamp).getHours();return A>=12&&A<18}).reduce((D,A)=>D+(A.energy||0),0)/Math.max(1,b.filter(D=>{if(!D?.timestamp)return!1;const A=new Date(D.timestamp).getHours();return A>=12&&A<18}).length),w=b.filter(D=>D?.timestamp?new Date(D.timestamp).getHours()>=18:!1).reduce((D,A)=>D+(A.energy||0),0)/Math.max(1,b.filter(D=>D?.timestamp?new Date(D.timestamp).getHours()>=18:!1).length),j=S>C&&S>w?"morning":C>w?"afternoon":"evening",I=Math.max(S,C,w);I>6&&f.push({id:"energy-peak",type:"pattern",title:`Your ${j} energy is strongest`,description:`Schedule your most important work in the ${j} when your energy naturally peaks at ${I.toFixed(1)}/10.`,confidence:80,icon:"zap",color:"#f59e0b"})}const T=b.map(S=>v(S.mood)).filter(S=>S>0);if(T.length>0){const S=T.reduce((C,w)=>C+w,0)/T.length;S>=7&&O.length<5?f.push({id:"growth-suggestion",type:"suggestion",title:"You're thriving - ready for more?",description:"Your mood has been consistently positive. This might be a good time to add a new growth habit.",confidence:75,icon:"brain",color:"#a78bfa"}):S<5&&O.length>5&&f.push({id:"rest-suggestion",type:"suggestion",title:"Consider simplifying your routine",description:"Your energy has been lower lately. It's okay to pause some habits and focus on rest.",confidence:70,icon:"moon",color:"#8b5cf6"})}return O.length===1&&R>=1&&f.push({id:"first-habit",type:"achievement",title:"Your journey has begun! ðŸŒ±",description:"You've started your first habit. Every expert was once a beginner. Keep going!",confidence:100,icon:"star",color:"#10b981"}),f.sort((S,C)=>C.confidence-S.confidence).slice(0,4)},p=(m,k,M)=>{const f=Array.isArray(m)?m:[],b=Array.isArray(k)?k:[],P=Array.from({length:7},(w,j)=>{const I=new Date;return I.setDate(I.getDate()-(6-j)),I}),O=P.map(w=>{const j=w.toDateString(),I=f.find(D=>D?.timestamp&&new Date(D.timestamp).toDateString()===j);return{day:w.toLocaleDateString("en-US",{weekday:"short"}),energy:I?.energy||0,mood:v(I?.mood)}}),R={"< 6h":{productivity:0,focus:0,count:0},"6-7h":{productivity:0,focus:0,count:0},"7-8h":{productivity:0,focus:0,count:0},"8-9h":{productivity:0,focus:0,count:0},"9h+":{productivity:0,focus:0,count:0}};f.slice(-14).forEach(w=>{if(w?.sleep&&w?.timestamp){const j=w.sleep,I=new Date(w.timestamp).toDateString(),D=b.filter(q=>(q?.completedSlots||[]).some(N=>N?.date===I)).length;let A="";j<6?A="< 6h":j<7?A="6-7h":j<8?A="7-8h":j<9?A="8-9h":A="9h+",R[A].productivity+=D,R[A].focus+=w.energy||0,R[A].count+=1}});const F=Object.entries(R).map(([w,j])=>({sleep:w,productivity:j.count>0?Math.round(j.productivity/j.count*10):0,focus:j.count>0?Math.round(j.focus/j.count*10):0})).filter(w=>w.productivity>0||w.focus>0),T={Morning:{completions:0,energy:0,count:0},Afternoon:{completions:0,energy:0,count:0},Evening:{completions:0,energy:0,count:0}};f.slice(-14).forEach(w=>{if(w?.timestamp){const j=new Date(w.timestamp).getHours(),I=new Date(w.timestamp).toDateString(),D=b.filter(q=>(q?.completedSlots||[]).some(N=>N?.date===I)).length;let A="Morning";j>=6&&j<12?A="Morning":j>=12&&j<18?A="Afternoon":A="Evening",T[A].completions+=D,T[A].energy+=w.energy||0,T[A].count+=1}});const S=Object.entries(T).map(([w,j])=>({timeOfDay:w,completions:j.count>0?Math.round(j.completions/j.count*10):0,energy:j.count>0?Math.round(j.energy/j.count*10):0})),C=P.map(w=>{const j=w.toDateString(),I=f.find(A=>A?.timestamp&&new Date(A.timestamp).toDateString()===j),D=b.filter(A=>(A?.completedSlots||[]).some(q=>q?.date===j)).length;return{day:w.toLocaleDateString("en-US",{weekday:"short"}),habits:D,mood:v(I?.mood),energy:I?.energy||0}});return{energyTrends:O,sleepCorrelation:F,productivityPeaks:S,weeklyPattern:C}},v=m=>({terrible:2,rough:4,okay:5,good:7,great:9,amazing:10})[m]||5,x=m=>{switch(m){case"brain":return xe;case"moon":return Ae;case"zap":return Ce;case"check":return Nt;case"star":return Es;default:return Z}};return!a||t.length===0?e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4",style:{backgroundColor:`${n.primary}15`},children:e.jsx(xe,{size:32,style:{color:n.primary},className:"opacity-40"})}),e.jsx("h4",{className:"mb-2 opacity-60",children:"Building Your Insights"}),e.jsx("p",{className:"text-sm opacity-50 max-w-md mx-auto",children:"Keep checking in and completing habits. We'll start discovering patterns in your data soon!"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 pb-4",style:{background:`linear-gradient(135deg, ${n.primary}15 0%, ${n.primary}05 100%)`},children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center",style:{backgroundColor:`${n.primary}20`},children:e.jsx(xe,{size:24,style:{color:n.primary}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-0",children:"AI Insights"}),e.jsx("p",{className:"text-sm opacity-60",children:"Patterns discovered from your data"})]})]}),e.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,className:"w-10 h-10 rounded-xl flex items-center justify-center transition-colors hover:bg-white/50",title:"Refresh insights",children:e.jsx(L.div,{animate:{rotate:d?360:0},transition:{duration:.5,ease:"easeInOut"},children:e.jsx(ns,{size:18,className:"opacity-60"})})})]})}),e.jsx("div",{className:"p-6 pt-4 space-y-3",children:t.map((m,k)=>{const M=x(m.icon);return e.jsx(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.1},onClick:()=>i(m),className:"p-4 rounded-2xl cursor-pointer transition-all hover:shadow-md",style:{backgroundColor:`${m.color}10`,border:`2px solid ${o?.id===m.id?m.color:"transparent"}`},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${m.color}20`},children:e.jsx(M,{size:20,style:{color:m.color}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm mb-0",children:m.title}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:3}).map((f,b)=>e.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:b<Math.floor(m.confidence/33)?m.color:"#e5e7eb"}},b))})]}),e.jsx("p",{className:"text-sm opacity-70 mb-0",children:m.description})]}),e.jsx(Te,{size:18,className:"opacity-40 flex-shrink-0"})]})},m.id)})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("button",{onClick:()=>c(!l),className:"w-full py-3 rounded-2xl border-2 border-gray-200 hover:border-gray-300 transition-all flex items-center justify-center gap-2",children:[e.jsx(Z,{size:18,className:"opacity-60"}),e.jsxs("span",{className:"text-sm",children:[l?"Hide":"View"," Detailed Analytics"]})]})})]}),e.jsx(wt,{children:l&&e.jsxs(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 overflow-hidden",children:[e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{size:20,style:{color:n.primary}}),e.jsx("h4",{className:"mb-0",children:"Energy & Mood Trends"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n.primary}}),e.jsx("span",{className:"opacity-60",children:"Energy"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#f59e0b"}}),e.jsx("span",{className:"opacity-60",children:"Mood"})]})]})]}),e.jsx(He,{width:"100%",height:200,children:e.jsxs(Ka,{data:a.energyTrends,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorEnergy",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:n.primary,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:n.primary,stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorMood",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})]}),e.jsx(nt,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),e.jsx(Ee,{dataKey:"day",stroke:"#9ca3af",style:{fontSize:"12px"}}),e.jsx(Pe,{stroke:"#9ca3af",style:{fontSize:"12px"},domain:[0,10]}),e.jsx(Be,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(te,{type:"monotone",dataKey:"energy",stroke:n.primary,strokeWidth:3,fill:"url(#colorEnergy)",name:"Energy"}),e.jsx(te,{type:"monotone",dataKey:"mood",stroke:"#f59e0b",strokeWidth:3,fill:"url(#colorMood)",name:"Mood"})]})})]}),a.sleepCorrelation.length>0&&e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ae,{size:20,style:{color:"#8b5cf6"}}),e.jsx("h4",{className:"mb-0",children:"Sleep Impact"})]}),e.jsx(He,{width:"100%",height:200,children:e.jsxs(Ba,{data:a.sleepCorrelation,children:[e.jsx(nt,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),e.jsx(Ee,{dataKey:"sleep",stroke:"#9ca3af",style:{fontSize:"12px"}}),e.jsx(Pe,{stroke:"#9ca3af",style:{fontSize:"12px"}}),e.jsx(Be,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(Ve,{dataKey:"productivity",fill:"#8b5cf6",radius:[12,12,0,0],name:"Productivity"}),e.jsx(Ve,{dataKey:"focus",fill:"#a78bfa",radius:[12,12,0,0],name:"Focus"})]})})]}),e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ve,{size:20,style:{color:"#f59e0b"}}),e.jsx("h4",{className:"mb-0",children:"Productivity by Time of Day"})]}),e.jsx(He,{width:"100%",height:250,children:e.jsxs(Wa,{data:a.productivityPeaks,children:[e.jsx($t,{stroke:"#e5e7eb"}),e.jsx(Rt,{dataKey:"timeOfDay",stroke:"#9ca3af",style:{fontSize:"12px"}}),e.jsx(Tt,{angle:90,domain:[0,100],stroke:"#9ca3af"}),e.jsx(fe,{name:"Completions",dataKey:"completions",stroke:n.primary,fill:n.primary,fillOpacity:.4,strokeWidth:2}),e.jsx(fe,{name:"Energy",dataKey:"energy",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.3,strokeWidth:2}),e.jsx(Be,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}})]})})]})]})})]})}class Ga{apiKey;platform;constructor(t,s="apple"){this.apiKey=t,this.platform=s}async fetchHealthData(t=new Date){return this.generateMockHealthData(t)}getAdaptiveSuggestions(t){const s=[];return t.sleep.hours<6?s.push("Low sleep detected. Consider gentler tasks and more breaks today."):t.sleep.quality==="poor"&&s.push("Sleep quality was low. Prioritize restoration over intensity."),t.activity.steps<3e3&&s.push("Light movement today. Add a short walk to boost energy."),t.wellness.hrv<50&&s.push("HRV indicates stress. Focus on recovery and mindfulness today."),t.wellness.readinessScore<60&&s.push("Body needs recovery. This is a perfect day for low-energy routines."),s}generateMockHealthData(t){const s=5+Math.random()*4,a=s>7?"good":s>6?"fair":"poor";return{sleep:{hours:s,quality:a,deepSleep:s*.2,remSleep:s*.25,timestamp:t.toISOString()},activity:{steps:Math.floor(3e3+Math.random()*7e3),activeMinutes:Math.floor(20+Math.random()*60),caloriesBurned:Math.floor(1500+Math.random()*1e3),heartRateAverage:Math.floor(65+Math.random()*20),timestamp:t.toISOString()},wellness:{hrv:Math.floor(40+Math.random()*60),restingHeartRate:Math.floor(55+Math.random()*20),readinessScore:Math.floor(50+Math.random()*50),timestamp:t.toISOString()}}}}class qa{apiKey;provider;constructor(t,s="google"){this.apiKey=t,this.provider=s}async fetchEvents(t,s){return this.generateMockCalendarEvents(t,s)}getOptimalTaskTimes(t,s){const a=[],r=t.sort((o,i)=>new Date(o.start).getTime()-new Date(i.start).getTime());for(let o=0;o<r.length-1;o++){const i=new Date(r[o].end),c=(new Date(r[o+1].start).getTime()-i.getTime())/(1e3*60);c>=30&&a.push({start:i.toISOString(),duration:Math.min(c-5,120),reason:`${c} min gap between meetings - good for focused work`})}return a}getMeetingLoad(t){const s=t.filter(i=>i.type==="meeting"),a=s.reduce((i,l)=>i+l.duration,0),r=s.filter(i=>(i.attendees||0)>5).length;let o="low";return a>240||r>3?o="high":(a>120||r>1)&&(o="medium"),{totalMeetings:s.length,totalMinutes:a,largestMeetings:r,energyDrain:o}}generateMockCalendarEvents(t,s){const a=[],r=["meeting","focus","break"],o=new Date(t);for(;o<=s;){const i=3+Math.floor(Math.random()*3);for(let l=0;l<i;l++){const c=9+Math.floor(Math.random()*8),d=[30,60,90][Math.floor(Math.random()*3)],u=new Date(o);u.setHours(c,0,0,0);const h=new Date(u);h.setMinutes(h.getMinutes()+d),a.push({id:`event-${Date.now()}-${l}`,title:["Team Sync","Deep Work","Client Call","Planning","Review"][Math.floor(Math.random()*5)],start:u.toISOString(),end:h.toISOString(),duration:d,type:r[Math.floor(Math.random()*r.length)],attendees:Math.floor(Math.random()*10),isRecurring:Math.random()>.7})}o.setDate(o.getDate()+1)}return a}}class Va{apiKey;location;constructor(t="YOUR_OPENWEATHER_API_KEY",s){this.apiKey=t,this.location=s||{lat:40.7128,lon:-74.006}}async fetchWeather(){return this.generateMockWeatherData()}getWeatherImpact(t){const s=[];let a="low",r="neutral";return t.barometricPressure<29.8&&(a="high",s.push("Low pressure system - higher migraine risk. Keep meds handy."),r="negative"),t.condition==="rainy"||t.condition==="stormy"?(s.push("Rainy weather may affect mood. Consider indoor comfort activities."),r==="neutral"&&(r="negative")):t.condition==="clear"&&(s.push("Beautiful day! Consider outdoor movement if energy permits."),r==="neutral"&&(r="positive")),t.humidity>70&&s.push("High humidity may feel draining. Stay hydrated and cool."),{migraineLikelihood:a,energyImpact:r,suggestions:s}}generateMockWeatherData(){const t=["clear","cloudy","rainy","stormy","snowy"];return{temperature:60+Math.random()*30,condition:t[Math.floor(Math.random()*t.length)],barometricPressure:29.5+Math.random()*1,humidity:40+Math.random()*40,uvIndex:Math.floor(Math.random()*11),timestamp:new Date().toISOString()}}}class Ua{apiKey;provider;constructor(t="YOUR_RESCUETIME_API_KEY",s="rescuetime"){this.apiKey=t,this.provider=s}async fetchFocusData(t=new Date){return this.generateMockFocusData(t)}analyzeFocusPatterns(t){if(t.length===0)return{bestFocusHours:[9,10,14],averageFocusScore:70,distractionTriggers:[],recommendations:["Track your focus for a few days to get personalized insights"]};const s={};t.forEach(c=>{c.mostProductiveHours.forEach(d=>{s[d]=(s[d]||0)+1})});const a=Object.entries(s).sort(([,c],[,d])=>d-c).slice(0,3).map(([c])=>parseInt(c)),r=t.reduce((c,d)=>c+d.focusScore,0)/t.length,o=new Map;t.forEach(c=>{c.topApps.filter(d=>d.category==="distraction").forEach(d=>{o.set(d.name,(o.get(d.name)||0)+d.minutes)})});const i=Array.from(o.entries()).sort(([,c],[,d])=>d-c).slice(0,3).map(([c])=>c),l=[];return r<60&&l.push("Consider using app blockers during peak focus hours"),i.length>0&&l.push(`Limit ${i[0]} during work sessions`),l.push(`Your peak focus is at ${a.map(c=>`${c}:00`).join(", ")} - schedule important tasks then`),{bestFocusHours:a,averageFocusScore:r,distractionTriggers:i,recommendations:l}}generateMockFocusData(t){const s=120+Math.floor(Math.random()*180),a=60+Math.floor(Math.random()*120);return{productiveMinutes:s,distractedMinutes:a,mostProductiveHours:[9,10,14].filter(()=>Math.random()>.3),topApps:[{name:"VSCode",minutes:120,category:"productive"},{name:"Slack",minutes:45,category:"neutral"},{name:"Twitter",minutes:30,category:"distraction"}],focusScore:Math.floor(s/(s+a)*100),timestamp:t.toISOString()}}}class Ja{apiKey;model;constructor(t="YOUR_OPENAI_API_KEY",s="gpt-4"){this.apiKey=t,this.model=s}async generateInsights(t){return this.generateMockInsights(t)}async analyzeJournalEntry(t){return{sentiment:Math.random()*2-1,themes:["growth","self-reflection","challenges"],suggestions:["Consider focusing on the small wins you mentioned","Your awareness of challenges shows emotional intelligence"]}}async generateAffirmations(t){return["Your gentle approach to productivity is powerful","Rest is productive too","Small steps compound into big changes","You are adapting beautifully to your needs"].slice(0,3)}buildInsightPrompt(t){return`As a compassionate life coach, analyze this user's data and provide 2-3 gentle, actionable insights:
    
Mood patterns: ${JSON.stringify(t.moodHistory.slice(-7))}
Habits: ${JSON.stringify(t.habitData.slice(-7))}
${t.healthData?`Health: ${t.healthData.sleep.quality} sleep, ${t.healthData.wellness.readinessScore}% readiness`:""}

Focus on patterns, correlations, and compassionate suggestions. Keep insights short and actionable.`}generateMockInsights(t){const s=[];t.moodHistory.reduce((o,i)=>o+i.mood,0)/t.moodHistory.length<2&&s.push({type:"pattern",title:"Energy patterns detected",message:"Your energy has been lower this week. Consider prioritizing rest-based routines.",confidence:.85,actionable:!0,suggestedAction:"Switch to low-energy routine templates",relatedData:["mood","energy"]}),t.healthData&&t.healthData.sleep.hours<6&&s.push({type:"warning",title:"Sleep affecting performance",message:"Your sleep has been under 6 hours. This may be impacting your focus and energy.",confidence:.9,actionable:!0,suggestedAction:"Set an earlier bedtime reminder",relatedData:["sleep","focus"]});const r=t.habitData.filter(o=>o.completed).length;return r>0&&s.push({type:"encouragement",title:"Building consistency",message:`You've shown up ${r} times this week. That's what matters! ðŸŒŸ`,confidence:1,actionable:!1,relatedData:["habits"]}),s}}class Qa{apiKey;constructor(t="YOUR_AFFECTIVA_API_KEY"){this.apiKey=t}async analyzeTone(t){return this.generateMockTone(t)}getUIAdaptations(t){const s={colorScheme:"neutral",messageStyle:"calm",suggestedActivities:[]};switch(t.primary){case"anxious":s.colorScheme="cool",s.messageStyle="gentle",s.suggestedActivities=["breathing exercise","gentle stretching","journaling"];break;case"tired":s.colorScheme="warm",s.messageStyle="gentle",s.suggestedActivities=["rest timer","light movement","meditation"];break;case"frustrated":s.colorScheme="cool",s.messageStyle="calm",s.suggestedActivities=["break timer","mood music","reframe thoughts"];break;case"excited":s.colorScheme="warm",s.messageStyle="energetic",s.suggestedActivities=["tackle goals","creative work","social connection"];break;default:s.suggestedActivities=["check-in","routine builder","habit tracking"]}return s}generateMockTone(t){const s=t.toLowerCase();let a="calm",r=0;return s.includes("tired")||s.includes("exhausted")||s.includes("drained")?(a="tired",r=-.3):s.includes("anxious")||s.includes("worried")||s.includes("stressed")?(a="anxious",r=-.5):s.includes("happy")||s.includes("great")||s.includes("excited")?(a="excited",r=.7):(s.includes("frustrated")||s.includes("annoyed"))&&(a="frustrated",r=-.4),{primary:a,intensity:.5+Math.random()*.5,sentiment:r,keywords:t.split(" ").slice(0,5),suggestions:["Take a mindful moment","Journal about this feeling"]}}}class Xa{health;calendar;weather;focus;ai;emotion;constructor(t){this.health=new Ga(t.healthApiKey||"MOCK"),this.calendar=new qa(t.calendarApiKey||"MOCK"),this.weather=new Va(t.weatherApiKey||"MOCK"),this.focus=new Ua(t.focusApiKey||"MOCK"),this.ai=new Ja(t.aiApiKey||"MOCK"),this.emotion=new Qa(t.emotionApiKey||"MOCK")}async getDailyRecommendations(){try{const[t,s,a,r]=await Promise.all([this.health.fetchHealthData(),this.weather.fetchWeather(),this.focus.fetchFocusData(),this.calendar.fetchEvents(new Date,new Date)]),o=this.health.getAdaptiveSuggestions(t),i=this.weather.getWeatherImpact(s),l=this.calendar.getMeetingLoad(r);let c="medium";t.sleep.hours<6||t.wellness.readinessScore<50||i.energyImpact==="negative"||l.energyDrain==="high"?c="low":t.sleep.hours>7&&t.wellness.readinessScore>75&&i.energyImpact==="positive"&&l.energyDrain==="low"&&(c="high");const u={low:"rest",medium:"gentle",high:"balanced"}[c],h=[...o.slice(0,2),...i.suggestions.slice(0,1)],g=this.getMockMoodHistory(),p=this.getMockHabitData(),v=await this.ai.generateInsights({moodHistory:g,habitData:p,healthData:t,weatherData:s,focusData:a}),x=this.calendar.getOptimalTaskTimes(r,{focusHours:a.mostProductiveHours});return{energyLevel:c,recommendedRoutine:u,topSuggestions:h,optimalWorkTimes:x.slice(0,3).map(m=>new Date(m.start).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})),insights:v}}catch(t){return console.error("Error generating daily recommendations:",t),{energyLevel:"medium",recommendedRoutine:"gentle",topSuggestions:["Take it one step at a time today"],optimalWorkTimes:["9:00 AM","2:00 PM"],insights:[]}}}getMockMoodHistory(){return Array.from({length:7},(t,s)=>({mood:2+Math.floor(Math.random()*3),energy:2+Math.floor(Math.random()*3),focus:2+Math.floor(Math.random()*3),date:new Date(Date.now()-s*24*60*60*1e3).toISOString()}))}getMockHabitData(){return Array.from({length:7},(t,s)=>({habit:"Morning routine",completed:Math.random()>.3,date:new Date(Date.now()-s*24*60*60*1e3).toISOString()}))}}function Za(){const{themeColors:n}=le(),[t,s]=y.useState(!0),[a,r]=y.useState(null),[o,i]=y.useState(null),[l,c]=y.useState(!1);y.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0),i(null);const v=await new Xa({healthApiKey:"MOCK_HEALTH_KEY",calendarApiKey:"MOCK_CALENDAR_KEY",weatherApiKey:"MOCK_WEATHER_KEY",focusApiKey:"MOCK_FOCUS_KEY",aiApiKey:"MOCK_AI_KEY"}).getDailyRecommendations();r(v)}catch(p){console.error("Error loading recommendations:",p),i("Unable to load recommendations")}finally{s(!1)}};if(t)return e.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-100 animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse mb-2 w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-100 rounded animate-pulse w-3/4"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-100 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded animate-pulse w-5/6"})]})]});if(o||!a)return e.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6",children:e.jsxs("div",{className:"flex items-center gap-3 text-orange-600",children:[e.jsx(rt,{size:20}),e.jsx("p",{className:"text-sm",children:"Unable to generate recommendations right now"})]})});const u=p=>{switch(p){case"low":return"#3b82f6";case"medium":return"#f59e0b";case"high":return"#10b981";default:return n.primary}},h=p=>{switch(p){case"low":return"ðŸŒ™";case"medium":return"â˜€ï¸";case"high":return"âš¡";default:return"âœ¨"}},g=p=>{switch(p){case"pattern":return Fe;case"suggestion":return Z;case"encouragement":return be;case"warning":return rt;default:return xe}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-6 text-white",style:{background:`linear-gradient(135deg, ${n.primary}, ${n.secondary})`},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",children:e.jsx(xe,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white",children:"Today's Adaptive Plan"}),e.jsx("p",{className:"text-xs text-white/80",children:"Powered by AI + your data"})]})]}),e.jsx("button",{onClick:()=>c(!l),className:"w-8 h-8 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",children:e.jsx(Te,{size:18,className:`transition-transform ${l?"rotate-90":""}`})})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:h(a.energyLevel)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm opacity-80",children:"Predicted Energy"}),e.jsxs("div",{className:"text-lg capitalize",children:[a.energyLevel," Energy Day"]})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20",children:[e.jsx("div",{className:"text-xs opacity-80 mb-1",children:"Recommended Approach"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Se,{className:"bg-white/20 text-white border-white/30",children:[a.recommendedRoutine," routine"]})})]})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-60 mb-3",children:"Key Recommendations"}),e.jsx("div",{className:"space-y-2",children:a.topSuggestions.map((p,v)=>e.jsxs(L.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:v*.1},className:"flex items-start gap-3 p-3 rounded-xl bg-gray-50",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${n.primary}20`},children:e.jsx(Z,{size:14,style:{color:n.primary}})}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:p})]},v))})]}),a.optimalWorkTimes.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(tt,{size:14,className:"opacity-60"}),e.jsx("div",{className:"text-xs opacity-60",children:"Best Times for Focus Work"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.optimalWorkTimes.map((p,v)=>e.jsxs(Se,{variant:"outline",className:"border-purple-200 bg-purple-50 text-purple-700",children:[e.jsx(rs,{size:12,className:"mr-1"}),p]},v))})]})]}),e.jsx(wt,{children:l&&a.insights.length>0&&e.jsx(L.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6 bg-gray-50 space-y-3",children:[e.jsx("div",{className:"text-xs opacity-60 mb-3",children:"AI Insights"}),a.insights.map((p,v)=>{const x=g(p.type);return e.jsx(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-white rounded-xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${u(a.energyLevel)}20`},children:e.jsx(x,{size:16,style:{color:u(a.energyLevel)}})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm",children:p.title}),e.jsxs(Se,{variant:"outline",className:"text-xs",children:[Math.round(p.confidence*100),"% confidence"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:p.message}),p.suggestedAction&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-gray-100",children:[e.jsx(Ce,{size:12,className:"text-purple-600"}),e.jsx("span",{className:"text-xs text-purple-600",children:p.suggestedAction})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:p.relatedData.map((m,k)=>e.jsx(Se,{variant:"outline",className:"text-xs capitalize bg-gray-50",children:m},k))})]})]})},v)})]})})}),e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(be,{size:12}),e.jsx("span",{children:"Health"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tt,{size:12}),e.jsx("span",{children:"Calendar"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(St,{size:12}),e.jsx("span",{children:"Weather"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{size:12}),e.jsx("span",{children:"Focus"})]})]}),e.jsx("button",{onClick:d,className:"text-xs opacity-60 hover:opacity-100 transition-opacity",children:"Refresh"})]})})]})}var Ze="Radio",[en,Kt]=kt(Ze),[tn,sn]=en(Ze),Yt=y.forwardRef((n,t)=>{const{__scopeRadio:s,name:a,checked:r=!1,required:o,disabled:i,value:l="on",onCheck:c,form:d,...u}=n,[h,g]=y.useState(null),p=Qe(t,m=>g(m)),v=y.useRef(!1),x=h?d||!!h.closest("form"):!0;return e.jsxs(tn,{scope:s,checked:r,disabled:i,children:[e.jsx($e.button,{type:"button",role:"radio","aria-checked":r,"data-state":Ut(r),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:p,onClick:Ge(n.onClick,m=>{r||c?.(),x&&(v.current=m.isPropagationStopped(),v.current||m.stopPropagation())})}),x&&e.jsx(Vt,{control:h,bubbles:!v.current,name:a,value:l,checked:r,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});Yt.displayName=Ze;var Gt="RadioIndicator",qt=y.forwardRef((n,t)=>{const{__scopeRadio:s,forceMount:a,...r}=n,o=sn(Gt,s);return e.jsx(os,{present:a||o.checked,children:e.jsx($e.span,{"data-state":Ut(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})})});qt.displayName=Gt;var an="RadioBubbleInput",Vt=y.forwardRef(({__scopeRadio:n,control:t,checked:s,bubbles:a=!0,...r},o)=>{const i=y.useRef(null),l=Qe(i,o),c=ls(s),d=cs(t);return y.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==s&&p){const v=new Event("click",{bubbles:a});p.call(u,s),u.dispatchEvent(v)}},[c,s,a]),e.jsx($e.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...r,tabIndex:-1,ref:l,style:{...r.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vt.displayName=an;function Ut(n){return n?"checked":"unchecked"}var nn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_e="RadioGroup",[rn]=kt(_e,[Ft,Kt]),Jt=Ft(),Qt=Kt(),[on,ln]=rn(_e),Xt=y.forwardRef((n,t)=>{const{__scopeRadioGroup:s,name:a,defaultValue:r,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...g}=n,p=Jt(s),v=Ps(d),[x,m]=is({prop:o,defaultProp:r??null,onChange:h,caller:_e});return e.jsx(on,{scope:s,name:a,required:i,disabled:l,value:x,onValueChange:m,children:e.jsx(Os,{asChild:!0,...p,orientation:c,dir:v,loop:u,children:e.jsx($e.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...g,ref:t})})})});Xt.displayName=_e;var Zt="RadioGroupItem",es=y.forwardRef((n,t)=>{const{__scopeRadioGroup:s,disabled:a,...r}=n,o=ln(Zt,s),i=o.disabled||a,l=Jt(s),c=Qt(s),d=y.useRef(null),u=Qe(t,d),h=o.value===r.value,g=y.useRef(!1);return y.useEffect(()=>{const p=x=>{nn.includes(x.key)&&(g.current=!0)},v=()=>g.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",v)}},[]),e.jsx(Is,{asChild:!0,...l,focusable:!i,active:h,children:e.jsx(Yt,{disabled:i,required:o.required,checked:h,...c,...r,name:o.name,ref:u,onCheck:()=>o.onValueChange(r.value),onKeyDown:Ge(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Ge(r.onFocus,()=>{g.current&&d.current?.click()})})})});es.displayName=Zt;var cn="RadioGroupIndicator",ts=y.forwardRef((n,t)=>{const{__scopeRadioGroup:s,...a}=n,r=Qt(s);return e.jsx(qt,{...r,...a,ref:t})});ts.displayName=cn;var dn=Xt,un=es,mn=ts;function hn({className:n,...t}){return e.jsx(dn,{"data-slot":"radio-group",className:At("grid gap-3",n),...t})}function pt({className:n,...t}){return e.jsx(un,{"data-slot":"radio-group-item",className:At("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...t,children:e.jsx(mn,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(zs,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function pn(){const{themeColors:n}=le(),[t,s]=y.useState(null),[a,r]=y.useState(null),[o,i]=y.useState(!1),[l,c]=ds("weather-widget-settings",{location:"San Francisco",useAutoLocation:!0,temperatureUnit:"F",showMoonPhase:!0,showIntention:!0});y.useEffect(()=>{d();const f={temp:l.temperatureUnit==="F"?72:Math.round(200/9),condition:u(),location:l.location};s(f),l.useAutoLocation&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(b=>{console.log("Location:",b.coords.latitude,b.coords.longitude)},b=>{console.log("Location access denied, using manual location")})},[l]);const d=()=>{const f=new Date,b=f.getFullYear(),P=f.getMonth()+1,O=f.getDate(),R=Math.floor((b-2e3)/100),F=Math.floor(2-R+Math.floor(R/4)),S=(Math.floor(365.25*(b+4716))+Math.floor(30.6001*(P+1))+O+F-1524.5-24515495e-1)%29.53059,C=[{phase:"new",illumination:0,emoji:"ðŸŒ‘",name:"New Moon"},{phase:"waxing-crescent",illumination:25,emoji:"ðŸŒ’",name:"Waxing Crescent"},{phase:"first-quarter",illumination:50,emoji:"ðŸŒ“",name:"First Quarter"},{phase:"waxing-gibbous",illumination:75,emoji:"ðŸŒ”",name:"Waxing Gibbous"},{phase:"full",illumination:100,emoji:"ðŸŒ•",name:"Full Moon"},{phase:"waning-gibbous",illumination:75,emoji:"ðŸŒ–",name:"Waning Gibbous"},{phase:"last-quarter",illumination:50,emoji:"ðŸŒ—",name:"Last Quarter"},{phase:"waning-crescent",illumination:25,emoji:"ðŸŒ˜",name:"Waning Crescent"}],w=Math.floor(S/29.53059*8)%8;r(C[w])},u=()=>{const f=new Date().getHours();return f>=6&&f<18?Math.random()>.3?"sunny":"cloudy":Math.random()>.5?"cloudy":"rainy"},h=f=>{switch(f){case"sunny":return e.jsx(ve,{size:24});case"cloudy":return e.jsx(St,{size:24});case"rainy":return e.jsx(Rs,{size:24});case"snowy":return e.jsx(Bs,{size:24});case"windy":return e.jsx(ps,{size:24});default:return e.jsx(ve,{size:24})}},g=f=>{switch(f){case"sunny":return"#F59E0B";case"cloudy":return"#9CA3AF";case"rainy":return"#3B82F6";case"snowy":return"#93C5FD";case"windy":return"#6B7280";default:return"#F59E0B"}},p=f=>{switch(f){case"new":return"New beginnings await âœ¨";case"waxing-crescent":return"Time to set intentions ðŸŒ±";case"first-quarter":return"Take action on your goals ðŸ’ª";case"waxing-gibbous":return"Refine and adjust ðŸ”§";case"full":return"Celebrate your progress ðŸŽ‰";case"waning-gibbous":return"Release what no longer serves ðŸƒ";case"last-quarter":return"Rest and reflect ðŸ§˜";case"waning-crescent":return"Surrender and trust ðŸ™";default:return"Align with natural rhythms ðŸŒ™"}},v=f=>{c({...l,location:f})},x=f=>{c({...l,useAutoLocation:f})},m=f=>{c({...l,temperatureUnit:f})},k=f=>{c({...l,showMoonPhase:f})},M=f=>{c({...l,showIntention:f})};return!t||!a?null:e.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center",style:{backgroundColor:`${g(t.condition)}20`,color:g(t.condition)},children:h(t.condition)}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl",children:[t.temp,"Â°",l.temperatureUnit]}),e.jsx("div",{className:"text-xs opacity-60 capitalize",children:t.condition})]})]}),l.showMoonPhase&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl text-right",children:a.emoji}),e.jsxs("div",{className:"text-xs opacity-60 text-right",children:[a.illumination,"%"]})]}),e.jsx("div",{className:"text-xs opacity-60",children:a.name})]}),e.jsxs(ft,{open:o,onOpenChange:i,children:[e.jsx(us,{asChild:!0,children:e.jsx("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center hover:bg-gray-100 transition-colors","aria-label":"Weather Settings",children:e.jsx(ms,{size:16,className:"opacity-40 hover:opacity-70"})})}),e.jsxs(yt,{className:"sm:max-w-[425px]",children:[e.jsxs(xt,{children:[e.jsx(vt,{children:"Weather Widget Settings"}),e.jsx(bt,{children:"Customize your weather and moon phase display"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{htmlFor:"location",children:"Location"}),e.jsx(jt,{id:"location",value:l.location,onChange:f=>v(f.target.value),disabled:l.useAutoLocation,placeholder:"Enter city name"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{id:"auto-location",checked:l.useAutoLocation,onCheckedChange:x}),e.jsx(ae,{htmlFor:"auto-location",className:"text-sm opacity-70",children:"Auto-detect location"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{children:"Temperature Unit"}),e.jsxs(hn,{value:l.temperatureUnit,onValueChange:f=>m(f),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pt,{value:"F",id:"fahrenheit"}),e.jsx(ae,{htmlFor:"fahrenheit",className:"text-sm",children:"Fahrenheit (Â°F)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pt,{value:"C",id:"celsius"}),e.jsx(ae,{htmlFor:"celsius",className:"text-sm",children:"Celsius (Â°C)"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{children:"Display Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ae,{htmlFor:"show-moon",className:"text-sm",children:"Show moon phase"}),e.jsx(Le,{id:"show-moon",checked:l.showMoonPhase,onCheckedChange:k})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ae,{htmlFor:"show-intention",className:"text-sm",children:"Show intention message"}),e.jsx(Le,{id:"show-intention",checked:l.showIntention,onCheckedChange:M})]})]})]}),e.jsx("div",{className:"text-xs opacity-60 p-3 bg-gray-50 rounded-lg",children:"ðŸ’¡ Note: Weather data is currently simulated. Connect to a weather API for real-time data."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(hs,{onClick:()=>i(!1),children:"Done"})})]})]})]}),l.showIntention&&e.jsx("div",{className:"px-3 py-2 rounded-xl text-sm text-center transition-all",style:{backgroundColor:"#F3F4F6",fontStyle:"italic"},children:p(a.phase)})]})}function gn(){const{themeColors:n}=le(),[t,s]=y.useState({completed:0,total:0,percentage:0,todayCheckIns:0,motivationLevel:"low"});y.useEffect(()=>{a()},[]);const a=()=>{const c=new Date().toDateString(),d=localStorage.getItem("flowstate-habits"),h=(d?JSON.parse(d):[]).filter(b=>b.isActive);let g=0;h.forEach(b=>{b.frequency==="multiple-daily"&&b.timeSlots?b.timeSlots.every(O=>(b.completedSlots||[]).some(R=>R.date===c&&R.slotId===O.id))&&g++:(b.completedSlots||[]).some(O=>O.date===c)&&g++});let p=0;const v=ie("flowstate-mood-date",null),x=ie("flowstate-energy",null),m=ie("flowstate-coaching-date",null);v===c&&p++,x&&p++,m===c&&p++;const k=h.length+3,M=k>0?Math.round((g+p)/k*100):0;let f="low";M>=80?f="unstoppable":M>=50?f="strong":M>=20&&(f="building"),s({completed:g+p,total:k,percentage:M,todayCheckIns:p,motivationLevel:f})},r=()=>{switch(t.motivationLevel){case"unstoppable":return"Unstoppable! ðŸ”¥";case"strong":return"Strong momentum ðŸ’ª";case"building":return"Building up âœ¨";default:return"Just getting started ðŸŒ±"}},o=()=>{switch(t.motivationLevel){case"unstoppable":return"#F59E0B";case"strong":return n.primary;case"building":return"#8B5CF6";default:return"#D1D5DB"}},i=2*Math.PI*45,l=i-t.percentage/100*i;return e.jsxs("div",{className:"bg-white rounded-3xl shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"opacity-60 text-sm mb-1",children:"Today's Momentum"}),e.jsx("div",{className:"opacity-80",children:r()})]}),e.jsx(Ks,{size:24,style:{color:o()},className:"opacity-80"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{width:"120",height:"120",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"60",cy:"60",r:"45",fill:"none",stroke:"#E5E7EB",strokeWidth:"8"}),e.jsx(X.circle,{cx:"60",cy:"60",r:"45",fill:"none",stroke:o(),strokeWidth:"8",strokeLinecap:"round",strokeDasharray:i,initial:{strokeDashoffset:i},animate:{strokeDashoffset:l},transition:{duration:1.5,ease:[.25,.46,.45,.94],delay:.2}}),t.percentage>=50&&e.jsx(X.circle,{cx:"60",cy:"60",r:"45",fill:"none",stroke:o(),strokeWidth:"12",strokeLinecap:"round",strokeDasharray:i,strokeDashoffset:l,opacity:"0.2",initial:{opacity:0},animate:{opacity:[.1,.3,.1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsxs(X.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring",stiffness:200},className:"text-3xl",style:{color:o()},children:[t.percentage,"%"]}),e.jsx("div",{className:"text-xs opacity-60 mt-1",children:"complete"})]})]}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${n.primary}20`},children:e.jsx(gs,{size:16,style:{color:n.primary}})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-60",children:"Tasks"}),e.jsxs("div",{className:"text-sm",children:[t.completed-t.todayCheckIns,"/",t.total-3]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${n.primaryDark}20`},children:e.jsx(be,{size:16,style:{color:n.primaryDark}})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-60",children:"Check-ins"}),e.jsxs("div",{className:"text-sm",children:[t.todayCheckIns,"/3"]})]})]})]})]}),t.percentage<30&&t.total>0&&e.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1},className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("p",{className:"text-xs opacity-60 text-center",children:"Small steps create big momentum âœ¨"})})]})}function fn(){const{themeColors:n}=le(),[t,s]=y.useState(null);y.useEffect(()=>{a();const o=setInterval(a,6e4);return()=>clearInterval(o)},[]);const a=()=>{const o=new Date().getHours(),i=localStorage.getItem("flowstate-username")||"friend",l=new Date().toDateString(),c=localStorage.getItem("flowstate-coaching-data");let d=3;if(c)try{const h=JSON.parse(c);localStorage.getItem("flowstate-coaching-date")===l&&(d=h.energy)}catch{console.error("Error parsing check-in data")}let u;o>=5&&o<7?u={message:`Early bird, ${i} ðŸŒ…`,submessage:d<=2?"Take it slow. The day will wait for you.":"The quiet morning is yours to savor.",icon:Js,gradient:["#FEF3C7","#FCD34D"]}:o>=7&&o<12?u={message:`Good morning, ${i} â˜€ï¸`,submessage:d<=2?"One gentle step at a time today.":"Let's make today meaningful, at your pace.",icon:ve,gradient:["#FBBF24","#F59E0B"]}:o>=12&&o<17?u={message:`Good afternoon, ${i} ðŸŒ¤ï¸`,submessage:d<=2?"It's okay to rest. Progress isn't always visible.":"You're doing great. Keep your rhythm steady.",icon:ve,gradient:["#FDE68A","#FCD34D"]}:o>=17&&o<21?u={message:`Good evening, ${i} ðŸŒ…`,submessage:"You did enough today. Time to wind down.",icon:Xs,gradient:["#FBCFE8","#F9A8D4"]}:u={message:`Good night, ${i} ðŸŒ™`,submessage:"Rest is productive. Tomorrow is a new beginning.",icon:Ae,gradient:["#DDD6FE","#C4B5FD"]},s(u)};if(!t)return null;const r=t.icon;return e.jsxs(L.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-6 rounded-3xl shadow-lg relative overflow-hidden",style:{background:`linear-gradient(135deg, ${t.gradient[0]}, ${t.gradient[1]})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 opacity-10",children:e.jsx(r,{size:128})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/40 flex items-center justify-center",children:e.jsx(r,{size:20})}),e.jsx("h2",{className:"text-gray-800",children:t.message})]}),e.jsx("p",{className:"text-gray-700 opacity-80 leading-relaxed",children:t.submessage}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm",children:[e.jsx(be,{size:14,className:"text-red-500"}),e.jsx("span",{className:"opacity-70",children:"Your energy matters more than your output"})]})]})]})}function yn(){const{themeColors:n}=le(),[t,s]=y.useState(!1),[a,r]=y.useState(3),[o,i]=y.useState(!1);y.useEffect(()=>{const u=ie("flowstate-mood-checkin-date",null),h=new Date().toDateString();s(u===h)},[]);const l=()=>{const u=new Date().toDateString();st("flowstate-mood-checkin-date",u),st("flowstate-mood-checkin-value",a.toString()),s(!0),i(!1);const h=["struggling","low","okay","good","great"];Ct.success(`Checked in: feeling ${h[a-1]} ðŸ’œ`,{duration:2e3})},c=u=>["ðŸ˜”","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ˜Š"][u-1],d=u=>["Struggling","Low","Okay","Good","Great"][u-1];return t&&!o?e.jsx(L.button,{onClick:()=>i(!0),className:"w-full bg-white rounded-2xl shadow-md p-4 mb-6 text-left",whileHover:{scale:1.01},whileTap:{scale:.99},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:c(parseInt(ie("flowstate-mood-checkin-value","3")))}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm opacity-60",children:"Mood today"}),e.jsx("div",{className:"text-sm",children:"Already checked in"})]})]}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Z,{size:16,className:"text-green-600"})})]})}):e.jsxs(L.div,{className:"bg-white rounded-3xl shadow-md p-5 mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Z,{size:18,style:{color:n.primary}}),e.jsx("h3",{children:"Quick Mood Check-In"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex justify-center items-center gap-4 mb-3",children:e.jsx("span",{className:"text-5xl",children:c(a)})}),e.jsx("div",{className:"text-center mb-4 opacity-70",children:d(a)}),e.jsx("input",{type:"range",min:"1",max:"5",value:a,onChange:u=>r(parseInt(u.target.value)),className:"w-full h-3 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${n.primary} 0%, ${n.primary} ${(a-1)/4*100}%, #e5e7eb ${(a-1)/4*100}%, #e5e7eb 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs opacity-50 mt-2",children:[e.jsx("span",{children:"Low"}),e.jsx("span",{children:"Great"})]})]}),e.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,className:"w-full py-3 rounded-2xl text-white flex items-center justify-center gap-2 transition-all",style:{backgroundColor:n.primary},children:[e.jsx("span",{children:"Check In"}),e.jsx($s,{size:18})]})]})}function xn(){const{themeColors:n}=le(),[t,s]=y.useState(""),[a,r]=y.useState(!1),o=()=>{if(t.trim()){const c=new Date().toISOString().split("T")[0],d=JSON.parse(localStorage.getItem("flowstate-reflections")||"{}");d[c]||(d[c]=[]),d[c].push({text:t,timestamp:new Date().toISOString(),type:"quick"}),localStorage.setItem("flowstate-reflections",JSON.stringify(d)),Ct.success("Reflection saved ðŸ’œ",{duration:2e3}),s(""),r(!1)}},i=["How are you feeling right now?","What's one thing that went well today?","What do you need more of today?","What can you let go of?","What are you grateful for in this moment?"],l=i[Math.floor(Math.random()*i.length)];return e.jsxs(X.div,{className:"bg-white rounded-3xl shadow-md p-5 mb-6",animate:{boxShadow:a?`0 10px 40px -10px ${n.primary}40`:"0 1px 3px 0 rgb(0 0 0 / 0.1)"},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(fs,{size:18,style:{color:n.primary}}),e.jsx("h3",{className:"text-sm opacity-80",children:"Quick Reflection"})]}),e.jsxs("div",{className:"text-xs opacity-60 mb-3 flex items-center gap-1",children:[e.jsx(Z,{size:12}),e.jsx("span",{children:l})]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:t,onChange:c=>s(c.target.value),onFocus:()=>r(!0),onBlur:()=>r(!1),placeholder:"Write a quick thought...",className:"w-full px-4 py-3 pr-12 rounded-2xl border-2 resize-none transition-colors focus:outline-none",style:{borderColor:a?n.primary:"#e5e7eb",minHeight:"80px"},maxLength:200}),t.trim()&&e.jsx(X.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},onClick:o,className:"absolute right-3 bottom-3 w-8 h-8 rounded-full text-white flex items-center justify-center shadow-md hover:shadow-lg transition-all",style:{backgroundColor:n.primary},children:e.jsx(_s,{size:14})})]}),e.jsxs("div",{className:"text-xs opacity-40 mt-2 text-right",children:[t.length,"/200"]})]})}function vn(){const[n,t]=y.useState(new Date);y.useEffect(()=>{const l=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(l)},[]);const s=n.getHours(),a=n.getMinutes(),r=n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),o=(s*60+a)/1440*100,i=s>=6&&s<20;return e.jsxs("div",{className:"mb-4 relative h-12 bg-white/40 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center px-4",children:e.jsxs("div",{className:"flex-1 h-1 bg-gray-200 rounded-full relative",children:[e.jsx(X.div,{className:"absolute top-0 left-0 h-full rounded-full",style:{width:`${o}%`,background:i?"linear-gradient(90deg, #FCD34D, #F59E0B)":"linear-gradient(90deg, #8B5CF6, #6366F1)"},transition:{duration:.5}}),e.jsx(X.div,{className:"absolute top-1/2 -translate-y-1/2 -ml-4",style:{left:`${o}%`},animate:{y:[0,-4,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-white shadow-lg flex items-center justify-center text-lg",children:i?"â˜€ï¸":"ðŸŒ™"})})]})}),e.jsx("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 text-sm font-medium opacity-70",children:r})]})}function bn(){const[n,t]=y.useState([]),[s,a]=y.useState("none");y.useEffect(()=>{r();const i=setInterval(r,6e4);return()=>clearInterval(i)},[]);const r=()=>{const i=new Date().getHours();i>=19||i<6?(a("stars"),o(8)):i>=6&&i<12?(a("sparkles"),o(12)):(a("none"),t([]))},o=i=>{const l=Array.from({length:i},(c,d)=>({id:d,x:Math.random()*100,y:Math.random()*100,size:Math.random()*3+2,duration:Math.random()*3+2,delay:Math.random()*2}));t(l)};return s==="none"?null:e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",style:{zIndex:1},children:[n.map(i=>e.jsx(L.div,{className:"absolute rounded-full",style:{left:`${i.x}%`,top:`${i.y}%`,width:i.size,height:i.size,background:s==="stars"?"rgba(255, 255, 255, 0.6)":"rgba(251, 207, 232, 0.8)",boxShadow:s==="stars"?"0 0 8px rgba(255, 255, 255, 0.8)":"0 0 12px rgba(251, 207, 232, 0.9)"},animate:{opacity:[.2,1,.2],scale:[.8,1.2,.8]},transition:{duration:i.duration,repeat:1/0,delay:i.delay,ease:"easeInOut"}},i.id)),s==="sparkles"&&e.jsx(e.Fragment,{children:[...Array(3)].map((i,l)=>e.jsx(L.div,{className:"absolute",style:{left:`${20+l*30}%`,top:"-10%",width:"2px",height:"30%",background:"linear-gradient(180deg, rgba(252, 211, 77, 0.3), transparent)",transformOrigin:"top center"},animate:{opacity:[.2,.5,.2],scaleY:[.8,1,.8]},transition:{duration:4+l,repeat:1/0,delay:l*.5,ease:"easeInOut"}},`ray-${l}`))})]})}function jn(){const n=new Date().getHours();return n>=5&&n<7?{gradientFrom:"#FEF3C7",gradientTo:"#FBCFE8",opacity:.6}:n>=7&&n<12?{gradientFrom:"#FEF3C7",gradientTo:"#DBEAFE",opacity:.7}:n>=12&&n<17?{gradientFrom:"#FED7AA",gradientTo:"#BFDBFE",opacity:.7}:n>=17&&n<21?{gradientFrom:"#FBCFE8",gradientTo:"#DDD6FE",opacity:.8}:{gradientFrom:"#C7D2FE",gradientTo:"#E0E7FF",opacity:.9}}const gt=[{id:"Health",icon:"â¤ï¸",title:"Health",suggestion:"Your body deserves gentle care",color:"#DCBBA3"},{id:"Work",icon:"ðŸ’¼",title:"Work",suggestion:"Progress over perfection",color:"#A3C9DC"},{id:"Self-Care",icon:"ðŸ§˜",title:"Self-Care",suggestion:"You deserve this time",color:"#E9D5FF"},{id:"Relationships",icon:"ðŸ’•",title:"Relationships",suggestion:"Connection nurtures the soul",color:"#DCADC9"},{id:"Personal Growth",icon:"ðŸŒ±",title:"Personal Growth",suggestion:"Small steps lead to big growth",color:"#A3DCC9"},{id:"Home",icon:"ðŸ¡",title:"Environment",suggestion:"A calm space supports you",color:"#C9DCA3"},{id:"Creativity",icon:"ðŸŽ¨",title:"Creativity",suggestion:"Express yourself freely",color:"#DCA3BB"},{id:"Finances",icon:"ðŸ’°",title:"Finances",suggestion:"Financial peace brings freedom",color:"#D4AF37"}];function wn(){const[n,t]=y.useState(!1),[s,a]=y.useState(null);y.useEffect(()=>{const i=localStorage.getItem("flowstate-coaching-date"),l=new Date().toDateString();if(i===l){t(!0);const c=localStorage.getItem("flowstate-coaching-data");if(c){const d=JSON.parse(c);a({mood:d.mood,energy:d.energy,focus:d.focus})}}},[]);const o=(()=>{if(!s)return null;const{mood:i,energy:l,focus:c}=s,d=["ðŸ˜”","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ˜Š"][i-1],u=l<=2?"low energy":l>=4?"energized":"moderate",h=c<=2?"scattered":c>=4?"focused":"okay";return{moodEmoji:d,energyLabel:u,focusLabel:h}})();return e.jsxs("div",{className:"bg-gradient-to-br from-lavender-100 to-blue-50 rounded-3xl shadow-sm p-5 border border-lavender-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(js,{size:20,className:"text-lavender-600"}),e.jsx("h3",{className:"text-gray-700",children:"Daily Coaching"})]}),e.jsx("div",{className:"text-sm",children:n&&o?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:o.moodEmoji}),e.jsxs("span",{className:"opacity-80",children:[o.energyLabel,", ",o.focusLabel]})]}),e.jsx("div",{className:"text-xs opacity-60",children:"âœ“ Checked in today â€” visit Coach tab for full guidance"})]}):e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 opacity-80",children:"Haven't checked in yet today"}),e.jsx("div",{className:"text-xs opacity-60",children:"Visit the Coach tab for personalized guidance"})]})})]})}function Tn({onNavigateToHabits:n,onNavigate:t}={}){const{themeColors:s}=le(),{config:a}=ys(),[r,o]=y.useState(""),[i,l]=y.useState(50),[c,d]=y.useState(""),[u,h]=y.useState([]),[g,p]=y.useState(null),[v,x]=y.useState(0),[m,k]=y.useState("all"),[M,f]=y.useState([]),[b,P]=y.useState(new Date);y.useEffect(()=>{console.log("ðŸ“Š Dashboard Config:",{widgets:a.widgets,theme:a.theme,onboardingCompleted:a.onboardingCompleted})},[a]),y.useEffect(()=>{const N=setInterval(()=>{P(new Date)},6e4);return()=>clearInterval(N)},[]),y.useEffect(()=>{const N=ie("flowstate-mood","");N&&o(N);const W=ie("flowstate-energy","50");W&&l(parseInt(W));const K=ie("flowstate-focus-area","");K&&d(K)},[]),y.useEffect(()=>{const N=new Date().toDateString(),W=localStorage.getItem("flowstate-habits"),K=W?JSON.parse(W):[],se=gt.map(Y=>{const $=K.filter(H=>H.lifeArea===Y.id&&H.isActive);let z=0,_=$.length;$.forEach(H=>{H.frequency==="multiple-daily"&&H.timeSlots?H.timeSlots.every(me=>(H.completedSlots||[]).some(et=>et.date===N&&et.slotId===me.id))&&z++:(H.completedSlots||[]).some(me=>me.date===N)&&z++});const V=_>0?Math.round(z/_*100):0;return{id:Y.id,icon:Y.icon,title:Y.title,progress:V,currentHabits:$.slice(0,3).map(H=>H.name),suggestion:Y.suggestion,color:Y.color}});h(se),O(m,K)},[g,m]);const O=(N,W)=>{const K=new Date().toDateString(),se=localStorage.getItem("flowstate-habits");let $=(W||(se?JSON.parse(se):[])).filter(_=>_.isActive);N!=="all"&&($=$.filter(_=>_.lifeArea===N));const z=$.map(_=>{const V=_.frequency==="multiple-daily"&&_.timeSlots?_.timeSlots.every(ce=>(_.completedSlots||[]).some(me=>me.date===K&&me.slotId===ce.id)):(_.completedSlots||[]).some(ce=>ce.date===K),H=gt.find(ce=>ce.id===_.lifeArea);return{id:_.id,title:_.name,completed:V,lifeArea:_.lifeArea,lifeAreaEmoji:H?.icon||"âœ¨"}});f(z)},R=N=>{k(N),O(N)},F=N=>{const W=new Date().toDateString(),K=localStorage.getItem("flowstate-habits"),Y=(K?JSON.parse(K):[]).map($=>{if($.id===N){const z=$.completedSlots||[];return z.some(V=>V.date===W)?{...$,completedSlots:z.filter(V=>V.date!==W)}:{...$,completedSlots:[...z,{date:W}],streak:$.streak+1}}return $});localStorage.setItem("flowstate-habits",JSON.stringify(Y)),O(m,Y),x($=>$+1)},T=N=>{d(N),localStorage.setItem("flowstate-focus-area",N)},S=N=>{l(N),localStorage.setItem("flowstate-energy",N.toString())},C=N=>{switch(N){case"low":return"ðŸ˜Œ";case"moderate":return"ðŸ˜Š";case"good":return"ðŸŒŸ";default:return"ðŸ’­"}},w=N=>{switch(N){case"low":return"Low Energy";case"moderate":return"Moderate";case"good":return"Good Energy";default:return"Not set"}},I=(()=>{const N=new Date().toDateString(),W=localStorage.getItem("flowstate-habits"),se=(W?JSON.parse(W):[]).filter(z=>z.isActive),Y=se.length;let $=0;return se.forEach(z=>{z.frequency==="multiple-daily"&&z.timeSlots?z.timeSlots.every(V=>(z.completedSlots||[]).some(H=>H.date===N&&H.slotId===V.id))&&$++:(z.completedSlots||[]).some(V=>V.date===N)&&$++}),{completed:$,total:Y}})(),D=N=>{n?n(N.id):p(N)},A=()=>{p(null),x(N=>N+1)},q=jn();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b pb-24 relative overflow-hidden transition-colors duration-1000",style:{background:`linear-gradient(to bottom, ${q.gradientFrom}, ${q.gradientTo})`},children:[e.jsx(bn,{}),e.jsx("div",{className:"p-4 md:p-6 pt-8 md:pt-12 relative z-10",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx(fn,{})}),e.jsx("div",{className:"mb-6",children:e.jsx(vn,{})}),(a.widgets.weather||a.widgets.moon)&&e.jsx("div",{className:"mb-6",children:e.jsx(pn,{})}),a.widgets.momentum&&e.jsx("div",{className:"mb-6",children:e.jsx(gn,{})}),a.widgets.todos&&e.jsx("div",{className:"mb-6",children:e.jsx(yn,{})}),a.widgets.todos&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-5 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(xs,{size:20,className:"text-lavender-500"}),e.jsx("h3",{className:"text-gray-700",children:"Today's Mood"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-4xl",children:C(r)}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-80",children:w(r)}),e.jsx("div",{className:"text-xs opacity-50 mt-1",children:r?"Checked in today":"Check in to track"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-5 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ce,{size:20,className:"text-peach-500"}),e.jsx("h3",{className:"text-gray-700",children:"Energy Level"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-3xl",children:[i,"%"]}),e.jsx("input",{type:"range",min:"0",max:"100",value:i,onChange:N=>S(parseInt(N.target.value)),className:"flex-1 h-2 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${s.primary} 0%, ${s.primary} ${i}%, #e5e7eb ${i}%, #e5e7eb 100%)`}})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-5 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(vs,{size:20,className:"text-green-500"}),e.jsx("h3",{className:"text-gray-700",children:"Activity"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"opacity-60 text-xs mb-1",children:"Habits"}),e.jsx("div",{className:"opacity-90",children:I.total>0?`${I.completed}/${I.total}`:"None yet"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-60 text-xs mb-1",children:"Today"}),e.jsx("div",{className:"opacity-90",children:I.completed>0?`${I.completed} done âœ¨`:"Start now"})]})]})]})]}),a.widgets.todos&&e.jsx("div",{className:"mb-6",children:e.jsx(xn,{})}),a.widgets.todos&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("h2",{className:"mb-4 flex items-center gap-2",children:[e.jsx(Nt,{size:24,className:"text-lavender-600"}),"Today's Tasks"]}),e.jsx(Ts,{selectedArea:m,onSelectArea:R}),e.jsx("div",{className:"space-y-2",children:M.length>0?M.map(N=>e.jsx(Dt,{title:N.title,completed:N.completed,onToggle:()=>F(N.id),lifeArea:N.lifeArea,lifeAreaEmoji:N.lifeAreaEmoji},N.id)):e.jsx("div",{className:"text-center py-8 opacity-60",children:e.jsx("p",{className:"text-sm",children:m==="all"?"No active habits yet. Visit the Habits tab to get started! ðŸŒ±":`No active habits in ${Fs.find(N=>N.id===m)?.label||"this area"} yet.`})})})]})}),a.widgets.weeklySummary&&e.jsx("div",{className:"mb-6",children:e.jsx(ta,{onViewDetails:()=>t?.("weekly-insights")})}),a.widgets.habits&&e.jsx("div",{className:"mb-6",children:e.jsx(ws,{context:"dashboard"})}),a.widgets.aiInsights&&e.jsx("div",{className:"mb-6",children:e.jsx(Ya,{},v)}),a.widgets.habits&&e.jsx("div",{className:"mb-6",children:e.jsx(Za,{})}),t&&a.widgets.habits&&e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:()=>t("growth-map"),className:"w-full bg-gradient-to-br from-lavender-50 to-peach-50 rounded-3xl p-6 shadow-sm border-2 border-lavender-200 hover:shadow-md transition-all group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center transition-transform group-hover:scale-110",style:{backgroundColor:s.primary},children:e.jsx(bs,{size:28,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lavender-700 mb-1",children:"Explore Your Growth Map"}),e.jsx("p",{className:"text-sm opacity-70",children:"See your progress across all life areas"})]})]}),e.jsx(Fe,{size:24,className:"text-lavender-600 opacity-60 group-hover:opacity-100 transition-opacity"})]})})}),a.widgets.habits&&e.jsx("div",{className:"mb-6",children:e.jsx(wn,{})}),a.widgets.habits&&e.jsx("div",{className:"mb-6",children:e.jsx(ra,{selectedArea:c,onSelect:T})}),a.widgets.habits&&e.jsx("div",{className:"mb-6",children:e.jsx(ia,{})}),a.widgets.healthStats&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-4 text-gray-700",children:"Health Snapshot"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(We,{icon:e.jsx(Ae,{size:20}),label:"Sleep",value:"7.5h",color:"bg-blue-50"}),e.jsx(We,{icon:e.jsx(Gs,{size:20}),label:"Steps",value:"3,421",color:"bg-peach-50"}),e.jsx(We,{icon:e.jsx(be,{size:20}),label:"Heart",value:"68 bpm",color:"bg-pink-50"})]})]}),a.widgets.habits&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-4 text-gray-700",children:"Life Areas"}),e.jsx("p",{className:"text-sm opacity-60 mb-4",children:"Click a life area to view and manage habits"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(N=>e.jsx(sa,{icon:N.icon,title:N.title,progress:N.progress,currentHabits:N.currentHabits,suggestion:N.suggestion,color:N.color,onClick:()=>D(N)},N.id))})]}),!a.widgets.momentum&&!a.widgets.weeklySummary&&!a.widgets.habits&&!a.widgets.todos&&!a.widgets.aiInsights&&!a.widgets.healthStats&&!a.widgets.weather&&!a.widgets.moon&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-8 border border-gray-100 text-center",children:[e.jsx("div",{className:"mb-4 text-4xl",children:"ðŸŒ±"}),e.jsx("h3",{className:"mb-2",children:"Your Dashboard is Empty"}),e.jsx("p",{className:"text-sm opacity-70 mb-6",children:"Add widgets to personalize your dashboard experience"}),t&&e.jsx("button",{onClick:()=>t("settings"),className:"px-6 py-3 rounded-2xl text-white shadow-md hover:shadow-lg transition-all",style:{backgroundColor:s.primary},children:"Customize Dashboard"})]})})]})}),g&&e.jsx(aa,{isOpen:!!g,onClose:A,lifeArea:g})]})}export{Tn as default};
