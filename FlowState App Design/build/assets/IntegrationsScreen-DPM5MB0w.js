import{c as T,u as D,r as h,H as I,a0 as F,o as v,aJ as z,an as A,q as P,j as e,aK as x,m as g,N as d,K as R,i as j,J as H,V as B,D as M,b as E,d as L,e as O,f as V,l as w,n as l,aF as G,al as b,ao as J}from"./index-Dh3uFWtn.js";import{A as W}from"./arrow-left-B6U7nkP4.js";import{I as K}from"./info-C-VIh4eG.js";import{C as _}from"./circle-alert-Bsdov2cC.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Q=T("external-link",$),N=[{id:"apple-health",name:"Apple Health",description:"Sync sleep, steps, heart rate",longDescription:"Connect to Apple Health to automatically track your sleep patterns, daily activity, and heart rate variability. This helps FlowState adapt your routines based on your physical readiness.",icon:I,iconBg:"#fee2e2",iconColor:"#ef4444",status:"disconnected",privacyType:"read-only",category:"health",scopes:[{id:"sleep",name:"Sleep Data",description:"Hours slept, sleep quality, sleep stages",required:!0},{id:"activity",name:"Activity Data",description:"Steps, active minutes, calories",required:!0},{id:"heart",name:"Heart Rate",description:"Resting heart rate, HRV",required:!1},{id:"mindful",name:"Mindful Minutes",description:"Meditation and breathing sessions",required:!1}],dataTypes:["Sleep","Steps","Heart Rate","HRV"]},{id:"google-fit",name:"Google Fit",description:"Activity & wellness tracking",longDescription:"Integrate with Google Fit to bring your fitness and activity data into FlowState. Track how movement affects your energy and mood over time.",icon:F,iconBg:"#dbeafe",iconColor:"#3b82f6",status:"disconnected",privacyType:"read-only",category:"health",scopes:[{id:"activity",name:"Activity Data",description:"Steps, distance, active minutes",required:!0},{id:"sleep",name:"Sleep Sessions",description:"Sleep duration and quality",required:!1},{id:"heart",name:"Heart Points",description:"Cardiovascular activity",required:!1}],dataTypes:["Steps","Activity","Sleep"]},{id:"google-calendar",name:"Google Calendar",description:"Sync events & schedule",longDescription:"Connect Google Calendar to automatically see your meetings and commitments. FlowState will help you find optimal times for focus work and self-care around your schedule.",icon:v,iconBg:"#dbeafe",iconColor:"#3b82f6",status:"connected",privacyType:"read-write",category:"productivity",syncFrequency:"Every 15 minutes",lastSync:"2 mins ago",scopes:[{id:"read",name:"Read Calendar Events",description:"View your calendar events and availability",required:!0},{id:"write",name:"Create Events",description:"Add habits and tasks as calendar events",required:!1},{id:"metadata",name:"Event Metadata",description:"Access event descriptions and attendees",required:!1}],dataTypes:["Events","Free/Busy","Reminders"]},{id:"outlook",name:"Microsoft Outlook",description:"Calendar & task management",longDescription:"Integrate with Microsoft Outlook to sync your calendar, tasks, and availability. Perfect for work-life balance across Microsoft 365.",icon:v,iconBg:"#dbeafe",iconColor:"#0078d4",status:"disconnected",privacyType:"read-write",category:"productivity",scopes:[{id:"calendar",name:"Calendar Access",description:"Read and write calendar events",required:!0},{id:"tasks",name:"Tasks & To-Do",description:"Sync Microsoft To-Do tasks",required:!1},{id:"presence",name:"Presence Status",description:"Know when you're in meetings",required:!1}],dataTypes:["Calendar","Tasks","Presence"]},{id:"spotify",name:"Spotify",description:"Focus playlists & listening",longDescription:"Connect Spotify to access your focus playlists and track how music affects your productivity. Create the perfect soundtrack for your routines.",icon:z,iconBg:"#dcfce7",iconColor:"#16a34a",status:"read-only",privacyType:"read-only",category:"mindfulness",syncFrequency:"Manual",lastSync:"1 hour ago",scopes:[{id:"playlists",name:"Access Playlists",description:"View and play your playlists",required:!0},{id:"playback",name:"Control Playback",description:"Play, pause, and skip tracks",required:!0},{id:"listening",name:"Listening History",description:"See recently played tracks",required:!1}],dataTypes:["Playlists","Listening History","Playback"]},{id:"notion",name:"Notion",description:"Import tasks & notes",longDescription:"Sync your Notion workspace with FlowState. Import tasks from databases and keep your notes in sync across both platforms.",icon:A,iconBg:"#f3f4f6",iconColor:"#374151",status:"disconnected",privacyType:"read-only",category:"productivity",scopes:[{id:"pages",name:"Read Pages",description:"Access selected Notion pages",required:!0},{id:"databases",name:"Read Databases",description:"Query task and habit databases",required:!0},{id:"comments",name:"Comments",description:"Read comments and discussions",required:!1}],dataTypes:["Pages","Databases","Tasks"]},{id:"openweather",name:"OpenWeather",description:"Energy based on weather",longDescription:"Track local weather patterns and barometric pressure. Especially helpful for migraine sufferers to anticipate low-pressure triggers.",icon:P,iconBg:"#e0e7ff",iconColor:"#6366f1",status:"syncing",privacyType:"local",category:"weather",syncFrequency:"Hourly",lastSync:"Just now",scopes:[{id:"current",name:"Current Weather",description:"Real-time weather conditions",required:!0},{id:"forecast",name:"5-Day Forecast",description:"Plan ahead for weather changes",required:!1},{id:"pressure",name:"Barometric Pressure",description:"Track pressure for migraine prevention",required:!0}],dataTypes:["Temperature","Conditions","Pressure","Humidity"]}];function Y({integration:s,onToggle:r,onViewScopes:t}){const c=s.icon,y=()=>{switch(s.status){case"connected":return e.jsxs(l,{className:"text-xs gap-1 bg-green-50 text-green-700 border-green-200",children:[e.jsx(w,{size:10}),"Connected"]});case"read-only":return e.jsxs(l,{className:"text-xs gap-1 bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(b,{size:10}),"Read-only"]});case"syncing":return e.jsxs(l,{className:"text-xs gap-1 bg-purple-50 text-purple-700 border-purple-200",children:[e.jsx(j,{size:10,className:"animate-spin"}),"Syncing"]});case"error":return e.jsxs(l,{className:"text-xs gap-1 bg-red-50 text-red-700 border-red-200",children:[e.jsx(_,{size:10}),"Error"]});default:return e.jsx(l,{variant:"outline",className:"text-xs opacity-50",children:"Disconnected"})}},m=()=>{switch(s.privacyType){case"local":return e.jsxs(l,{variant:"outline",className:"text-xs gap-1 border-green-300 bg-green-50 text-green-700",children:[e.jsx(J,{size:10}),"Local only"]});case"read-only":return e.jsxs(l,{variant:"outline",className:"text-xs gap-1 border-blue-300 bg-blue-50 text-blue-700",children:[e.jsx(b,{size:10}),"Read only"]});case"read-write":return e.jsxs(l,{variant:"outline",className:"text-xs gap-1 border-purple-300 bg-purple-50 text-purple-700",children:[e.jsx(x,{size:10}),"Read & write"]})}},i=s.status!=="disconnected";return e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all overflow-hidden",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:s.iconBg},children:e.jsx(c,{size:26,style:{color:s.iconColor}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"truncate mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.description})]}),e.jsx(R,{checked:i,onCheckedChange:()=>r(s.id),className:"flex-shrink-0"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[y(),m()]}),i&&s.syncFrequency&&e.jsxs("div",{className:"text-xs text-gray-500 mb-3 flex items-center gap-2",children:[e.jsx(j,{size:12}),e.jsx("span",{children:s.syncFrequency}),s.lastSync&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Last sync: ",s.lastSync]})]})]}),i&&s.dataTypes&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:s.dataTypes.map(p=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full text-xs text-gray-600",children:p},p))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>t(s),className:"text-xs",children:[e.jsx(K,{size:12,className:"mr-1"}),"View Scopes"]}),i&&e.jsxs(d,{variant:"outline",size:"sm",className:"text-xs",children:[e.jsx(H,{size:12,className:"mr-1"}),"Configure"]})]})]})]})})})}function U({integration:s,onClose:r}){if(!s)return null;const t=s.icon;return e.jsx(M,{open:!!s,onOpenChange:r,children:e.jsxs(E,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:s.iconBg},children:e.jsx(t,{size:24,style:{color:s.iconColor}})}),e.jsxs("div",{children:[e.jsxs(O,{children:[s.name," Permissions"]}),e.jsx(V,{children:"Data access and privacy details"})]})]})}),e.jsx("div",{className:"py-4",children:e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s.longDescription})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(x,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-blue-900 mb-1",children:e.jsx("strong",{children:"Privacy Protection:"})}),e.jsx("p",{className:"text-blue-700",children:s.privacyType==="local"?"All data stays on your device. Nothing is sent to external servers.":s.privacyType==="read-only"?"FlowState can only read your data. We never modify or delete your information.":"FlowState can read and create entries. You control what data is shared."})]})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-3 text-sm opacity-70",children:"Required Permissions"}),e.jsx("div",{className:"space-y-3",children:s.scopes.map(c=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"mt-0.5",children:c.required?e.jsx(w,{size:16,className:"text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded border-2 border-gray-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h5",{className:"text-sm",children:c.name}),c.required&&e.jsx(l,{variant:"outline",className:"text-xs",children:"Required"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:c.description})]})]},c.id))})]}),e.jsxs(G,{className:"mt-6",children:[e.jsx(d,{variant:"outline",onClick:r,children:"Close"}),e.jsx(d,{onClick:r,children:"Authorize"})]})]})})}function ae({onBack:s}){const{themeColors:r}=D(),[t,c]=h.useState(()=>{const a=localStorage.getItem("flowstate-integrations-v2");if(a){const u=JSON.parse(a);return N.map(o=>({...o,status:u[o.id]?.status||o.status}))}return N}),[y,m]=h.useState(null),[i,p]=h.useState("all"),k=a=>{const u=t.map(n=>{if(n.id===a){const f=n.status==="disconnected"?n.privacyType==="read-only"?"read-only":"connected":"disconnected";return B.success(f==="disconnected"?`${n.name} disconnected`:`${n.name} connected ðŸ”—`),{...n,status:f}}return n});c(u);const o={};u.forEach(n=>{o[n.id]={status:n.status}}),localStorage.setItem("flowstate-integrations-v2",JSON.stringify(o))},C=[{id:"all",name:"All",count:t.length},{id:"health",name:"Health",count:t.filter(a=>a.category==="health").length},{id:"productivity",name:"Productivity",count:t.filter(a=>a.category==="productivity").length},{id:"mindfulness",name:"Mindfulness",count:t.filter(a=>a.category==="mindfulness").length},{id:"weather",name:"Weather",count:t.filter(a=>a.category==="weather").length}],S=i==="all"?t:t.filter(a=>a.category===i),q=t.filter(a=>a.status!=="disconnected").length;return e.jsxs("div",{className:"min-h-screen pb-24",style:{backgroundColor:r.background},children:[e.jsx("div",{className:"p-6 md:p-8 pt-12 md:pt-16",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[s&&e.jsxs("button",{onClick:s,className:"flex items-center gap-2 mb-4 opacity-60 hover:opacity-100 transition-opacity",children:[e.jsx(W,{size:20}),"Back"]}),e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{backgroundColor:r.primaryLight},children:e.jsx(x,{size:28,style:{color:r.primary}})}),e.jsxs("div",{children:[e.jsx("h1",{children:"Integrations Hub"}),e.jsxs("p",{className:"text-sm opacity-70",children:[q," connected â€¢ Privacy-first design"]})]})]})})]}),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-5 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(x,{size:20,className:"text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-1",children:"Privacy First"}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"FlowState never collects or stores your personal information on our servers. All integrations use minimal permissions and your data stays on your device unless you explicitly sync to external services."})]})]})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 mb-6 scrollbar-hide",children:C.map(a=>e.jsxs("button",{onClick:()=>p(a.id),className:"px-4 py-2 rounded-2xl text-sm whitespace-nowrap transition-all",style:{backgroundColor:i===a.id?r.primary:"white",color:i===a.id?"white":"#374151",border:i===a.id?"none":"1px solid #e5e7eb"},children:[a.name," (",a.count,")"]},a.id))}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:S.map(a=>e.jsx(Y,{integration:a,onToggle:k,onViewScopes:m},a.id))}),e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gray-100 mb-3",children:e.jsx(Q,{size:24,className:"text-gray-400"})}),e.jsx("h3",{className:"mb-2",children:"More Integrations Coming"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"We're working on Todoist, Asana, Trello, Oura Ring, Fitbit, and more. Have a suggestion?"}),e.jsx(d,{variant:"outline",size:"sm",children:"Request Integration"})]})]})}),e.jsx(U,{integration:y,onClose:()=>m(null)})]})}export{ae as IntegrationsScreen};
