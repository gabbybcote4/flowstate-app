import{c as L,u as E,r as u,j as e,A as G,i,H as C,a2 as J,S as F,a4 as B,m as x,U as Y,T as U,aj as V,Y as q}from"./index-CmR80Uol.js";import{S as K}from"./star-BpWS_YD0.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],I=L("circle-check-big",Q);function X({type:a,onComplete:s,affirmation:r,metadata:o}){const{themeColors:n}=E(),[y,f]=u.useState(!0);return u.useEffect(()=>{const d=setTimeout(()=>{f(!1),s&&setTimeout(s,500)},3500);return()=>clearTimeout(d)},[s]),y?e.jsx(G,{children:e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 pointer-events-none flex items-center justify-center",children:[a==="reflection"&&e.jsx(Z,{affirmation:r,themeColors:n}),a==="week"&&e.jsx(ee,{themeColors:n}),a==="streak"&&e.jsx(te,{metadata:o,themeColors:n}),a==="milestone"&&e.jsx(ae,{themeColors:n})]})}):null}function Z({affirmation:a,themeColors:s}){return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx(i.div,{initial:{scale:0,opacity:0},animate:{scale:[0,2,2.5],opacity:[0,.3,0]},transition:{duration:2.5,ease:"easeOut"},className:"absolute rounded-full blur-3xl",style:{width:"600px",height:"600px",background:`radial-gradient(circle, ${s.primary}40, transparent)`}}),e.jsxs(i.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0},transition:{delay:.3,duration:.5,ease:"easeOut"},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md mx-4 pointer-events-auto",children:[e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring",stiffness:200},className:"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:`${s.primary}20`},children:e.jsx(C,{size:32,style:{color:s.primary}})}),e.jsx(i.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"text-center mb-3",style:{color:s.primary},children:"Reflection Complete"}),e.jsx(i.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"text-center text-gray-600 leading-relaxed",children:a||"You took time to reflect. That's beautiful growth. ðŸŒ±"}),[...Array(6)].map((r,o)=>e.jsx(i.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,.6,0],scale:[0,1,0],x:[0,(Math.random()-.5)*100],y:[0,-50-Math.random()*50]},transition:{delay:1+o*.1,duration:2,ease:"easeOut"},className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:s.primary,left:"50%",top:"50%"}},o))]})]})}function ee({themeColors:a}){return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx(i.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1.2,1],opacity:[0,.4,0]},transition:{duration:3,ease:"easeOut"},className:"absolute w-96 h-96 rounded-full blur-2xl",style:{background:`radial-gradient(circle, ${a.primary}60, ${a.secondary}40, transparent)`}}),e.jsxs(i.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{duration:1,ease:"easeOut"},className:"relative pointer-events-auto",children:[[...Array(8)].map((s,r)=>{const o=r*360/8;return e.jsx(i.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3+r*.1,duration:.6,ease:"easeOut"},className:"absolute w-20 h-20 rounded-full",style:{background:`linear-gradient(135deg, ${a.primary}80, ${a.secondary}60)`,left:"50%",top:"50%",transform:`translate(-50%, -50%) rotate(${o}deg) translateY(-40px)`}},r)}),e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1,type:"spring",stiffness:200},className:"relative z-10 w-32 h-32 rounded-full bg-white shadow-xl flex items-center justify-center",children:e.jsx(J,{size:48,style:{color:a.primary}})}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5},className:"absolute -bottom-24 left-1/2 -translate-x-1/2 whitespace-nowrap text-center",children:[e.jsx("h3",{style:{color:a.primary},children:"Week Complete! ðŸŒ¸"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"You've blossomed beautifully"})]})]})]})}function te({metadata:a,themeColors:s}){const r=a?.streak||7;return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[[...Array(4)].map((o,n)=>e.jsx(i.div,{initial:{scale:0,opacity:.6},animate:{scale:[0,3,4],opacity:[.6,.3,0]},transition:{delay:n*.3,duration:2,ease:"easeOut"},className:"absolute rounded-full border-4",style:{width:"200px",height:"200px",borderColor:s.primary}},n)),e.jsxs(i.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:150},className:"relative z-10 bg-white rounded-full shadow-2xl p-8 pointer-events-auto",children:[e.jsx(I,{size:64,style:{color:s.primary}}),e.jsxs(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"absolute -bottom-20 left-1/2 -translate-x-1/2 whitespace-nowrap text-center",children:[e.jsxs("h3",{style:{color:s.primary},children:[r," Day Streak! ðŸ”¥"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Consistency is your superpower"})]})]}),[...Array(12)].map((o,n)=>e.jsx(i.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1.5,0],x:[0,(Math.random()-.5)*200],y:[0,-100-Math.random()*100]},transition:{delay:.5+n*.1,duration:2.5,ease:"easeOut"},className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:s.primary,left:"50%",top:"50%"}},n))]})}function ae({themeColors:a}){return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[[...Array(20)].map((s,r)=>{const o=r*360/20,n=150+Math.random()*100;return e.jsx(i.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,1,.8,0],scale:[0,1.5,1,0]},transition:{delay:r*.05,duration:2,ease:"easeOut"},className:"absolute",style:{left:"50%",top:"50%",transform:`translate(-50%, -50%) rotate(${o}deg) translateY(-${n}px)`},children:e.jsx(F,{size:24,style:{color:a.primary}})},r)}),e.jsxs(i.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring"},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-sm mx-4 pointer-events-auto text-center",children:[e.jsx(i.div,{animate:{rotate:[0,10,-10,0]},transition:{delay:.8,duration:.5},children:e.jsx(K,{size:48,className:"mx-auto mb-4",style:{color:a.primary}})}),e.jsx("h3",{className:"mb-2",style:{color:a.primary},children:"Milestone Reached! âœ¨"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Every step forward matters. You're doing amazing."})]})]})}function le(){const{themeColors:a}=E(),{triggerCelebration:s}=B(),r=new Date().toISOString().split("T")[0],[o,n]=u.useState([]),[y,f]=u.useState([]),[d,O]=u.useState(7),[b,g]=u.useState(!1),[v,$]=u.useState(!1),[W,z]=u.useState("");u.useEffect(()=>{const l=JSON.parse(localStorage.getItem("flowstate-reflections")||"{}")[r];l&&(n(l.whatFeltRight||[]),f(l.whatChallenged||[]),O(l.sleepHours||7),$(!!l.completedAt))},[r]);const H=["Rested when I needed","Completed a small task","Was gentle with myself","Asked for help","Honored my energy","Made progress","Connected with someone","Took a break"],M=["Low energy","Pain or discomfort","Overwhelming tasks","Couldn't focus","Too much stimulation","Felt rushed","Didn't rest enough","Hard to say no"],R=(t,l,h)=>{l.includes(t)?h(l.filter(p=>p!==t)):h([...l,t])},P=()=>{const t=JSON.parse(localStorage.getItem("flowstate-reflections")||"{}"),l=Object.entries(t).sort(([c],[m])=>m.localeCompare(c)).slice(0,7),h=[],p=[];let N=0;l.forEach(([c,m])=>{h.push(...m.whatChallenged||[]),p.push(...m.whatFeltRight||[]),N+=m.sleepHours||0});const A=l.length>0?(N/l.length).toFixed(1):"0",k={};h.forEach(c=>{k[c]=(k[c]||0)+1});const w=Object.entries(k).sort(([,c],[,m])=>m-c)[0],S={};p.forEach(c=>{S[c]=(S[c]||0)+1});const T=Object.entries(S).sort(([,c],[,m])=>m-c)[0];return{patterns:w?`You've noticed "${w[0]}" ${w[1]} times this week`:"Keep tracking to discover patterns",wins:T?`Your strength: "${T[0]}" shows up ${T[1]} times`:"Your wins are building up",avgSleep:A,suggestion:_(w?.[0],A)}},_=(t,l)=>parseFloat(l)<6?"Tomorrow: Prioritize rest over tasks. Your body needs recovery.":t?.toLowerCase().includes("energy")?"Tomorrow: Start with one tiny win. Energy builds on momentum.":t?.toLowerCase().includes("focus")?"Tomorrow: Try shorter task blocks. Quality over quantity.":t?.toLowerCase().includes("overwhelm")?"Tomorrow: Pick just ONE thing. Everything else can wait.":"Tomorrow: Trust your pace. You're doing better than you think.",D=()=>{const t=JSON.parse(localStorage.getItem("flowstate-reflections")||"{}");t[r]={date:r,whatFeltRight:o,whatChallenged:y,sleepHours:d,completedAt:new Date().toISOString()},localStorage.setItem("flowstate-reflections",JSON.stringify(t)),$(!0);const l=["You took time to reflect. That's beautiful growth. ðŸŒ±","Self-awareness is your superpower. Well done. âœ¨","Every reflection is a step forward. Proud of you. ðŸ’œ","You're building wisdom with each day. ðŸŒ¸","Pausing to reflect takes courage. You did it. ðŸŒ™"],h=l[Math.floor(Math.random()*l.length)];z(h);const p=Object.keys(t).length;p%7===0&&p>0?(g(!0),setTimeout(()=>{s("week-complete"),q.success("ðŸŒ¸ Week of reflections complete!",{description:"You've bloomed beautifully this week"})},500)):(g(!0),s("reflection-complete")),setTimeout(()=>g(!1),4e3)},j=P();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b relative",style:{backgroundImage:`linear-gradient(to bottom, ${a.gradientTo}, ${a.gradientFrom})`},children:[e.jsx("div",{className:"p-4 md:p-6 pt-8 md:pt-12 pb-32",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2",children:"End of Day Reflection"}),e.jsx("p",{className:"opacity-70",children:"Take a breath. Notice without judgment."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(C,{className:"w-5 h-5 text-lavender-400"}),e.jsx("h2",{children:"What felt right today?"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(t=>e.jsx(x.button,{onClick:()=>R(t,o,n),whileTap:{scale:.95},className:`
                    px-4 py-2 rounded-full transition-all duration-200
                    ${o.includes(t)?"bg-lavender-200 text-lavender-900 shadow-md":"bg-white text-gray-700 hover:bg-lavender-50 shadow-sm"}
                  `,children:t},t))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Y,{className:"w-5 h-5 text-peach-400"}),e.jsx("h2",{children:"What challenged you?"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(t=>e.jsx(x.button,{onClick:()=>R(t,y,f),whileTap:{scale:.95},className:`
                    px-4 py-2 rounded-full transition-all duration-200
                    ${y.includes(t)?"bg-peach-200 text-peach-900 shadow-md":"bg-white text-gray-700 hover:bg-peach-50 shadow-sm"}
                  `,children:t},t))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"mb-4",children:"How much sleep did you get?"}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm p-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¤"}),e.jsx("input",{type:"range",min:"0",max:"12",step:"0.5",value:d,onChange:t=>O(parseFloat(t.target.value)),className:"flex-1 h-2 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${a.primary} 0%, ${a.primary} ${d/12*100}%, #e5e7eb ${d/12*100}%, #e5e7eb 100%)`}}),e.jsxs("div",{className:"min-w-[4rem] text-center opacity-90",children:[d,"h"]})]}),e.jsxs("div",{className:"mt-3 text-center text-sm opacity-60",children:[d<6&&"Rest is productive too âœ¨",d>=6&&d<8&&"Good baseline sleep",d>=8&&"Great rest! ðŸŒŸ"]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(F,{className:"w-5 h-5 text-lavender-400"}),e.jsx("h2",{children:"Your Patterns & Insights"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-lavender-50 to-white rounded-2xl p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(U,{className:"w-5 h-5 text-lavender-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-60 text-sm mb-1",children:"Pattern"}),e.jsx("div",{children:j.patterns})]})]})}),e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-peach-50 to-white rounded-2xl p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-peach-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-60 text-sm mb-1",children:"Your Wins"}),e.jsx("div",{children:j.wins})]})]})}),e.jsx(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl p-5 shadow-sm border border-blue-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Y,{className:"w-5 h-5 text-blue-500 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-60 text-sm mb-1",children:"Gentle Focus for Tomorrow"}),e.jsx("div",{className:"text-blue-900",children:j.suggestion})]})]})}),e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-5 shadow-sm text-center",children:[e.jsx("div",{className:"text-sm opacity-60 mb-1",children:"7-Day Sleep Average"}),e.jsxs("div",{className:"text-2xl",children:[j.avgSleep," hours"]})]})]})]}),e.jsx(x.button,{onClick:D,whileTap:{scale:.98},disabled:v&&!b,className:"w-full py-4 rounded-3xl shadow-lg transition-all duration-200 flex items-center justify-center gap-2",style:{backgroundColor:v&&!b?"#d1d5db":a.primary,color:"white"},children:v?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-5 h-5"}),"Reflection Complete"]}):e.jsx(e.Fragment,{children:"Complete Reflection"})})]})}),e.jsx(V,{children:b&&e.jsx(X,{type:"reflection",affirmation:W,onComplete:()=>g(!1)})})]})}export{le as default};
